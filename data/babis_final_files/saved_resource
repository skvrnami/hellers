function startUnbluChat(){null!=unbluAPI&&unbluAPI.core.visitor.ui.Dialogs.showChatSessionDialog()}function unbluSessionEnded(){console.log("UNBLU.INFO.Session ended!"),document.getElementById("generate-here-chat-engagement").style.display="inline"}function unbluSessionStarted(){console.log("UNBLU.INFO.Check if Unblu session is active!"),null!=unbluAPI&&unbluAPI.core.visitor.session.Session.getSessionInfo({onSuccess:function(e){null==e?console.log("UNBLU.WARNING.Session is null. Do nothing!"):(console.log("UNBLU.INFO.Session is active. Let's hide Engagement tab."),hideEngagementTab())},onFailure:function(e){console.log("UNBLU.ERROR.API is NOT available!")}})}function showEngagementTab(){document.getElementById("generate-here-chat-engagement").style.display="inline"}function hideEngagementTab(){document.getElementById("generate-here-chat-engagement").style.display="none"}var unbluAPI;"undefined"==typeof unblu?console.warn("Unblu is not defined"):(function(){unblu.c=[],unblu.registerApiConsumer=function(o,e,n){if(o instanceof Array){if(window.Promise)return new Promise(function(e,n){unblu.c.push({a:o,c:e,e:n})});throw new Error("Promise not available")}unblu.c.push({a:n,c:o,e:e})},unblu.setLocale=function(e){unblu.l="cs-CZ"},window["x-unblu-tmp-window-name"]||(window["x-unblu-tmp-window-name"]=window.name);var e,n=document.getElementsByTagName("script")[0];n&&((e=document.createElement("script")).setAttribute("src",unblu.SERVER+"/onco/unblu/starter.js"),e.setAttribute("type","text/javascript"),e.setAttribute("defer","defer"),n.parentNode.appendChild(e))}(),unblu.registerApiConsumer(function(n){void 0!==n.fatalError&&console.log("UNBLU.ERROR.The unblu server has detected, that this browser is not supported."),n.core.system.SystemInfo.isCoBrowsingAvailable({onSuccess:function(e){e?((unbluAPI=n).core.visitor.session.Session.addSessionStartedListener(unbluSessionStarted),unbluAPI.core.visitor.session.Session.addSessionEndedListener(unbluSessionEnded),unbluAPI.core.visitor.agentinfo.AgentInformation.isAgentPresent({onSuccess:function(e){e?unbluAPI.core.visitor.session.Session.isSessionActive({onSuccess:function(e){var n=document.getElementById("generate-here-chat-engagement");e?(console.log("UNBLU.INFO.Agent is present but we have active session. So we dont't need init Unblu engagement tab."),hideEngagementTab()):(console.log("UNBLU.INFO.Agent is present and no active session:-). Showing engagement tab!"),showEngagementTab()),n.innerHTML='<div id="blu_box" onclick="startUnbluChat();"><table id="blu_chat_pos"><tr><td><img src="/gfx/images/unblu-chat-icon.png"><td><div id=blu_chat_text>Chcete poradit?</div></td></tr></table></div>'},onFailure:function(e){console.log("UNBLU.ERROR.API is NOT available!")}}):console.log("UNBLU.INFO. No agent is available:-(. Button is not shown!")},onFailure:function(e){console.log("UNBLU.ERROR.API is NOT available!")}})):console.log("UNBLU.ERROR.NOT available!")},onFailure:function(e){console.log("UNBLU.ERROR.API is NOT available!")}})},["core.system","core.visitor"]));