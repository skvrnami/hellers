var com_sas_ci_acs=com_sas_ci_acs||{},c3=com_sas_ci_acs;"undefined"==typeof com_sas_ci_acs.version&&(com_sas_ci_acs.version="1.1.0",com_sas_ci_acs.webmarketing=!1,com_sas_ci_acs.newvid=!1);(function(){function a(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var b=document.createEvent("CustomEvent");b.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return b}if("function"===typeof window.CustomEvent)return!1;a.prototype=window.Event.prototype;window.CustomEvent=a})();
com_sas_ci_acs.ob_util={copyright:"Copyright (c) 2015 by SAS Institute Inc., Cary, NC, USA. All Rights Reserved.",lastActivity:0,maxInactivity:0,csn:0,account:"",jspageerrorCount:0,contentchangeCount:0,jsvarchangeCount:0,mediaEventsCount:0,totalEventsCount:0,maxJspageErrors:5,maxContentChange:10,maxJsVarChange:10,maxMediaEvents:200,maxTotalEvents:2E3,batchSpots:!0,viewId:0,deferredSpots:[],maxDeferredSpotTry:50,deferredSpotInitialTimeout:50,maxUrlSize:1800,deferredSpotTryCount:0,logging:!1,cancelledEvents:[],
eventResponses:[],ccsProtocol:null,FS:"/",f:"function",clickEvents:[],timestamp_base:0,timestamp_boot_base:0,cts_base:0,java_version:null,flash_version:null,svg_version:null,flashdirector_version:null,realplayer_version:null,quicktime_version:null,mediaplayer_version:null,acrobat_version:null,cachedTermConfiguration:null,cachedTspSelectors:null,load_event:null,anonymous_form_count:0,windowHasFocus:!0,datahubIdUpdateDelay:1E3,magicBoxEventTypes:"url download transaction term form custom category source promotion view trafficSource homePage internalSearch".split(" "),
MAX_PROPERTY_SIZE:1E3,getLoadEventInstance:function(){this.load_event||(this.load_event=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));return this.load_event},isMagicBoxEvent:function(a){return this.exists(a)&&-1<this.magicBoxEventTypes.indexOf(a)},isIdEvent:function(a){return(a=a.get("eventname"))&&(a===com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT||a===com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_CONFIRMATION_EVENT)},regularExpressions:{integer:"^\\d+$",formFieldChanges:"^form.f..*._o.changes$",
decimal:"^[0-9]+(.[0-9]{1,2})?$"},SUCCESS:"success",getDeferredSpotTimeout:function(){return this.deferredSpotInitialTimeout+10*this.deferredSpotTryCount},isConfigLoaded:function(){return"undefined"!==typeof com_sas_ci_acs.ob_configure},getMaxLimit:function(a){return this.isConfigLoaded()&&this.notBlank(com_sas_ci_acs.ob_configure[a])?com_sas_ci_acs.ob_configure[a]:this.notBlank(this[a])?this[a]:0},getDataHubCallUrl:function(){return com_sas_ci_acs.ob_util_async.custom_domain+"/t/s/d/"+com_sas_ci_acs.ob_util.account+
"/"+com_sas_ci_acs.ob_configure.getVisitorId()},totalEventsNotMaxed:function(a){return this.totalEventsCount<this.getMaxLimit("maxTotalEvents")?(a&&this.totalEventsCount++,!0):!1},extractDomain:function(a){try{var b=a.match(/^\s*\S+?:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i),c=b&&b[1];return this.isNull(c)?"":c}catch(d){return""}},extractPath:function(a){try{var b=a.match(/^\s*\S+?:\/\/[^\/?#]+([^?|#]*)/i),c=b&&b[1];return this.isNull(c)?"":c}catch(d){return""}},extractParam:function(a,b){try{if(this.isNull(b)||
this.isNull(a))return"";a=a.replace(/[\[\]]/g,"\\$&");b=b.replace(/^\s+|\s+$/gm,"");var c=(new RegExp(encodeURIComponent(a)+"(=([^&#]*)|&|#|$)")).exec(b);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}catch(d){return""}},getMaxMediaEvents:function(){return this.getMaxLimit("maxMediaEvents")},getMaxContentChange:function(){return this.getMaxLimit("maxContentChange")},getMaxJsVarChange:function(){return this.getMaxLimit("maxJsVarChange")},getBatchSpots:function(){return this.isConfigLoaded()&&
this.notBlank(com_sas_ci_acs.ob_configure.batchSpots)?com_sas_ci_acs.ob_configure.batchSpots:this.batchSpots},loadSpotsInBatch:function(){return!this.isIE89Browser()&&this.getBatchSpots()},sendBodyAsHeaderAll:function(){var a=com_sas_ci_acs.ob_configure.sendBodyAsHeaderAll;return com_sas_ci_acs.ob_util.isUndefined(a)?!1:a},sendBodyAsHeaderLoad:function(){var a=com_sas_ci_acs.ob_configure.sendBodyAsHeaderLoad;return com_sas_ci_acs.ob_util.isUndefined(a)?!1:a},virtualSpotObserver:function(a,b,c,d){var e=
!1;a.forEach(function(a){if("attributes"!=a.type&&!e){a=a.target;e=!0;var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CHANGE);c.add("eventSource","webmarketing");c.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION);c.add("spot_id",b);d&&(d.taskid&&c.add("task_id",d.taskid),d.creativeid&&c.add("creative_id",d.creativeid),d.customid&&c.add("custom_id",d.customid),d.variantid&&c.add("variant_id",d.variantid),d.productid&&c.add("product_id",d.productid),d.productsku&&
c.add("product_sku",d.productsku),d.controlgroup&&c.add("is_control_group",d.controlgroup),d.idreference&&c.add("idreference",d.idreference));com_sas_ci_acs.ob_util.spotAttributeSetup(b,c);setTimeout(function(){c.send()},0);var f={};"undefined"!==typeof d&&null!==d&&(f={task_id:d.taskid,creative_id:d.creativeid,spot_id:b,product_id:d.productid,product_sku:d.productsku,is_control_group:d.controlgroup,variant_id:d.variantid});com_sas_ci_acs.spotClickedHandler=com_sas_ci_acs.spotClicked(a,f);com_sas_ci_acs.ob_configure.w3c?
a.addEventListener("click",com_sas_ci_acs.spotClickedHandler,!1):a.attachEvent("onclick",com_sas_ci_acs.spotClickedHandler);if(com_sas_ci_acs.ob_util.isElementInViewport(a)){var g=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE);g.add("eventSource","webmarketing");d&&(d.taskid&&g.add("task_id",d.taskid),d.creativeid&&g.add("creative_id",d.creativeid),d.customid&&g.add("custom_id",d.customid),d.variantid&&g.add("variant_id",d.variantid),d.productid&&g.add("product_id",
d.productid),d.productsku&&g.add("product_sku",d.productsku),d.controlgroup&&g.add("is_control_group",d.controlgroup),d.idreference&&g.add("idreference",d.idreference));g.add("spot_id",b);g.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION_VIEWABLE);a=com_sas_ci_acs.ob_configure.isCollectionEnabled().impression_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(a)&&0<a.length&&g.add("event_uid",a[0]);com_sas_ci_acs.ob_util.spotAttributeSetup(b,g);setTimeout(function(){g.send()},0)}else d&&
(f={task_id:d.taskid,creative_id:d.creativeid,spot_id:b,product_id:d.productid,product_sku:d.productsku,is_control_group:d.controlgroup,variant_id:d.variantid},a=com_sas_ci_acs.fireIfElementVisible(a,f),window.addEventListener&&(addEventListener("DOMContentLoaded",a,!1),addEventListener("load",a,!1),addEventListener("scroll",a,!1),addEventListener("resize",a,!1)))}});try{if(b&&com_sas_ci_acs.ob_util_async.virtualSpots[b]&&com_sas_ci_acs.ob_util_async.virtualSpots[b].observers)for(a=0;a<com_sas_ci_acs.ob_util_async.virtualSpots[b].observers.length;a++){var f=
com_sas_ci_acs.ob_util_async.virtualSpots[b].observers[a];"undefined"!==typeof f&&f&&f.disconnect()}}catch(g){com_sas_ci_acs.ob_util.log("Unable to disconnect observer for spot: "+b)}},setBaseTimestamp:function(a){this.timestamp_base=a;this.cts_base=(new Date).getTime();this.timestamp_boot_base=a-(this.cts_base-com_sas_ci_acs.ob_util_async.cts_boot_base)},sendClickEvents:function(a){com_sas_ci_acs.ob_util.isSafariBrowser()&&(a=!1);for(var b=0;b<this.clickEvents.length;b++)this.clickEvents[b].send(a);
this.clickEvents=[]},log:function(a){this.logging&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log(a)},toLowerCase:function(a){return a&&a.toLowerCase?a.toLowerCase():""},nsn:function(){return++this.csn},ckR:function(a){var b=a+"=";a=document.cookie;var c=a.indexOf(b);return-1!=c?(b=c+b.length,c=a.indexOf(";",b),-1==c&&(c=a.length),a.substring(b,c)):null},ckW:function(a,b,c,d,e){var f=null;if(null!=d){var g=d.indexOf(",");-1<g&&(g<d.length-1&&(f=d.substring(g+1)),d=d.substring(0,
g))}e=new Date(e);d=null==d||0==d.length?"":"; domain="+d;document.cookie=a+"="+b+"; expires="+e.toGMTString()+"; path="+c+d;null==com_sas_ci_acs.ob_util.ckR(a)&&null!=f&&(d=null==f||0==f.length?"":"; domain="+f,document.cookie=a+"="+b+"; expires="+e.toGMTString()+"; path="+c+d)},sckW:function(a,b,c,d,e,f){var g=null;if(null!=d){var h=d.indexOf(",");-1<h&&(h<d.length-1&&(g=d.substring(h+1)),d=d.substring(0,h))}null==c&&(c="/");void 0!==e&&(null==e&&(e=0),b=b+"."+e);void 0!==f&&(null==f&&(f=0),b=b+
"."+f);d=null==d||0==d.length?"":"; domain="+d;document.cookie=a+"="+b+"; path="+c+d;null==com_sas_ci_acs.ob_util.ckR(a)&&null!=g&&(d=null==g||0==g.length?"":"; domain="+g,document.cookie=a+"="+b+"; path="+c+d)},getURIExtension:function(a){a=new String(a.split("?")[0]);return a.substr(a.lastIndexOf(".")+1)},isScriptLink:function(a,b){b=com_sas_ci_acs.ob_util.toLowerCase(a.toString());return 0==b.indexOf("javascript:")||0==b.indexOf("vbscript:")},location:function(){var a=new String(location.protocol);
return a.substr(0,a.length-1)},host:function(){return new String(location.host)},strEndsWith:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)?!1:-1!=a.indexOf(b,a.length-b.length)},strStartsWith:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)?!1:a.slice(0,b.length)==b},strContains:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)?!1:-1!=a.indexOf(b)},strEquals:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||
com_sas_ci_acs.ob_util.isNull(b)?!1:a==b},isNull:function(a){return"undefined"==typeof a||null==a},strOp:function(a,b,c){if(com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)||com_sas_ci_acs.ob_util.isNull(c))return!1;if("equals"!=a){if("contains"==a)return com_sas_ci_acs.ob_util.strContains(b,c);if("startsWith"==a)return com_sas_ci_acs.ob_util.strStartsWith(b,c);if("endsWith"==a)return com_sas_ci_acs.ob_util.strEndsWith(b,c);if("exists"==a)return!0;if("regex"==a)return(a=(new RegExp(c)).exec(b))&&
0<a.length}return com_sas_ci_acs.ob_util.strEquals(b,c)},flash:function(a,b,c,d,e,f){a={e:!1,v:""};(c=navigator.plugins)&&c.length&&((e=c["Shockwave Flash"])||(e=c["Shockwave Flash 2.0"]),e&&(a.e=!0,f=e.description))&&(a.v=f.substr(f.indexOf("Flash")+6));if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.flash_version)return this.flash_version;for(b=15;0<b;b--)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);a.e=!0;a.v=d.GetVariable("$version");this.flash_version=a;break}catch(g){com_sas_ci_acs.ob_util.log(g)}}return a},
svg:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++)d=new String(c[b].type),0==d.indexOf("image/svg+xml")&&(a.e=!0,d=d.split("sion=")[1],d>a.v&&(a.v=d));if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.svg_version)return this.svg_version;d=new ActiveXObject("Adobe.SVGCtl");a.e=!0;a.v=d.GetVariable("$version");this.svg_version=a}return a},flashdirector:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("application/x-director")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.flashdirector_version)return this.flashdirector_version;for(b=15;0<b;b--)try{d=new ActiveXObject("SWCtl.SWCtl."+b);a.e=!0;a.v=d.GetVariable("$version");this.flashdirector_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},realplayer:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("audio/x-pn-realaudio-plugin")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.realplayer_version)return this.realplayer_version;for(b=15;0<b;b--)try{d=new ActiveXObject("rmocx.RealPlayer G2 Control."+b);a.e=!0;a.v=d.GetVariable("$version");this.realplayer_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},quicktime:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("video/quicktime")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.quicktime_version)return this.quicktime_version;for(b=15;0<b;b--)try{d=new ActiveXObject("QuickTimeCheckObject.QuickTimeCheck."+b);a.e=!0;a.v=d.GetVariable("$version");this.quicktime_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},mediaplayer:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("application/x-mplayer2")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.mediaplayer_version)return this.mediaplayer_version;for(b=15;0<b;b--)try{d=new ActiveXObject("MediaPlayer.MediaPlayer."+b);a.e=!0;a.v=d.GetVariable("$version");this.mediaplayer_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},acrobat:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("application/pdf")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.acrobat_version)return this.acrobat_version;for(b=15;0<b;b--)try{d=new ActiveXObject("PDF.PdfCtrl."+b);a.e=!0;a.v=d.GetVariable("$version");this.acrobat_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},brightcove:function(a){a={e:!1,v:""};var b=document.getElementsByTagName("script");if(!com_sas_ci_acs.ob_util.isUndefined(b))for(var c=0;c<
b.length;c++)if(-1!=b[c].indexOf("brightcove")){a.e=!0;break}return a},java:function(a,b,c,d,e,f,g,h,m){a={e:!1,v:""};if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.java_version)return this.java_version;c=2;a:for(;0<c;c--)for(e=9;0<=e;e--)for(f=5;0<=f;f--){b=c+"."+e+"."+f;try{new ActiveXObject("JavaWebStart.isInstalled."+b+".0");a.e=!0;a.v=b;this.java_version=a;break a}catch(r){com_sas_ci_acs.ob_util.log(r)}}}else for(c=navigator.mimeTypes,b=0;b<c.length;b++)h=new String(c[b].type),
0==h.indexOf("application/x-java-applet")&&(a.e=!0,m=h.split("sion=")[1],m>a.v&&(a.v=m));if(""!=a.v)return a;a.e=navigator.javaEnabled();a.v=a.e&&"undefined"!=typeof java?java.lang.System.getProperty("java.version"):"";return a},isUndefined:function(a){return"undefined"==typeof a?!0:!1},exists:function(a){return"undefined"!==typeof a&&null!==a},notBlank:function(a){return"undefined"!==typeof a&&null!==a&&a?!0:!1},idOf:function(a){if(a)return a.getAttribute("id")&&""!=a.getAttribute("id")?a.getAttribute("id"):
a.getAttribute("name")},formTag:function(a,b){for(b=com_sas_ci_acs.ob_util.toLowerCase(b);null!=a&&com_sas_ci_acs.ob_util.toLowerCase(a.tagName)!=b&&"body"!=com_sas_ci_acs.ob_util.toLowerCase(a.tagName);)a=a.parentNode;if(null==a||com_sas_ci_acs.ob_util.toLowerCase(a.tagName)!=b||com_sas_ci_acs.ob_util.isScriptLink(a))a=null;return a},parseUri:function(a){var b=document.createElement("a");b.href=a;return{protocol:b.protocol.replace(":",""),host:b.hostname,port:b.port,path:("/"!==b.pathname.charAt(0)?
"/":"")+b.pathname,search:b.search.substring(1)}},localUri:function(){return this.parseUri(window.location.href)},isDescendant:function(a,b){for(b=b.parentNode;null!=b;){if(b==a)return!0;b=b.parentNode}return!1},isArray:function(a){return a&&"[object Array]"===Object.prototype.toString.call(a)},getElementPath:function(a){var b=null==a.id||com_sas_ci_acs.ob_util.isUndefined(a.id)||""==a.id?a.nodeName:a.id;for(a=a.parentNode;null!=(a=a.parentNode);)b=com_sas_ci_acs.ob_util.isUndefined(a.id)||null==
a.id||""==a.id?a.nodeName+"/"+b:a.id+"/"+b;return"//"+b},getElementSelector:function(a){if(null==a)return"";var b=a.tagName.toLowerCase();if("body"!=b&&"html"!=b){var c=a.getAttribute("id"),d=a.getAttribute("class");a=a.getAttribute("name");if(c)b=0<=c.indexOf(".")?b+("[id='"+c+"']"):b+("#"+c);else{if(d)for(c=d.split(/\s+/),d=0;d<c.length;d++)b+="."+c[d].trim();a&&(b+="[name='"+a+"']")}}return b},getElementFullSelector:function(a){for(var b=com_sas_ci_acs.ob_util.getElementSelector(a);null!=(a=a.parentElement);)b=
com_sas_ci_acs.ob_util.getElementSelector(a)+" > "+b;return b},getFirstUniqueParent:function(a){return a.getAttribute("id")||"BODY"===a.tagName?a:this.getFirstUniqueParent(a.parentElement)},getElementInnerText:function(a){return a.textContent&&"undefined"!=typeof a.textContent?a.textContent:a.innerText},isIE8Browser:function(){var a=-1,b=navigator.userAgent,c=/Trident\/([0-9]{1,}[.0-9]{0,})/;null!=c.exec(b)&&(a=parseFloat(RegExp.$1));if(4==a)return!0;c=/MSIE ([0-9]{1,}[.0-9]{0,})/;return null!=c.exec(b)&&
(a=parseFloat(RegExp.$1),9>a&&0<a)?!0:!1},isIE89Browser:function(){var a=-1,b=navigator.userAgent,c=/Trident\/([0-9]{1,}[.0-9]{0,})/;null!=c.exec(b)&&(a=parseFloat(RegExp.$1));if(4==a)return!0;c=/MSIE ([0-9]{1,}[.0-9]{0,})/;return null!=c.exec(b)&&(a=parseFloat(RegExp.$1),10>a&&0<a)?!0:!1},isIEBrowser:function(){return!!document.documentMode},isFirefoxBrowser:function(){return"undefined"!==typeof InstallTrigger},isSafariBrowser:function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},
isElementInViewport:function(a){if("undefined"!==typeof a.getBoundingClientRect())var b=a.getBoundingClientRect();else if("undefined"!==typeof(a.parentElement&&a.parentElement.getBoundingClientRect()))b=a.parentElement.getBoundingClientRect();else return!1;var c=b.height;if(0===b.height&&(a=a.children))for(var d=0;d<a.length;d++){var e=a[d];if(0<e.offsetHeight){c=e.offsetHeight;break}}c*=b.width;var f=e=0;d=a=0;0>b.top&&(e=-1*b.top);0>b.left&&(a=-1*b.left);0>window.innerWidth-b.right&&(d=-1*(window.innerWidth-
b.right));0>window.innerHeight-b.bottom&&(f=-1*(window.innerHeight-b.bottom));e+=f;e>b.height&&(e=b.height);a+=d;a>b.width&&(a=b.width);return.5<=(c-(e*b.width+a*b.height))/c?!0:!1},isCartEvent:function(a){var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype;return com_sas_ci_acs.ob_util.isUndefined(b)?!1:(a=b[a],!com_sas_ci_acs.ob_util.isUndefined(a)&&a&&("cart"==a||"checkout"==a||"purchase"==a))},isCartProductAttribute:function(a,b){a=(a=a.cart_att_type)&&"CART_PRODUCT_ATTRIBUTE"==
a;return b&&com_sas_ci_acs.ob_util.isCartEvent(b)&&a},isCartAttribute:function(a,b){a=(a=a.cart_att_type)&&"CART_ATTRIBUTE"==a;return b&&com_sas_ci_acs.ob_util.isCartEvent(b)&&a},spotAttributeSetup:function(a,b){try{var c=com_sas_ci_acs.ob_injector.prototype.getSpotDefinitions();if(a&&this.exists(c)){var d=c[a];if(this.exists(d)){var e=d.spot_attributes;e&&this.customAttributeSetup(e,b,null,com_sas_ci_acs.ob_util.getLoadEventInstance())}}}catch(f){com_sas_ci_acs.ob_util.log("Unable to setup spot att for:"+
a+" error:"+f)}},customAttributeSetup:function(a,b,c,d,e){d||(d=b);e&&null!=e||(e=0);for(var f=0;f<a.length;f++){var g=a[f].name,h=!0;"product_id"===g&&b.dataElements.product_id?h=!1:"product_sku"===g&&b.dataElements.product_sku?h=!1:"product_sku"===g&&"Y"===b.dataElements.recommender?h=!1:"product_id"===g&&"Y"===b.dataElements.recommender&&(h=!1);if(h){h=a[f].selector;var m=a[f].selectorOnly,r=a[f].urlQueryParameter,t=a[f].urlQueryString,n=a[f].urlDomain,u=a[f].urlPath,k=a[f].urlPathLevel,q=a[f].cookie,
v=a[f].pageTitle,y=a[f].pageId,I=a[f].metaTag,z=a[f].jsVariable,C=a[f].referrerUrlDomain,D=a[f].referrerUrlPath,E=a[f].referrerUrlQueryParameter,A=a[f].click,R=a[f].formSubmit;if(h&&""!=h&&!com_sas_ci_acs.ob_util.isCartProductAttribute(a[f],b.get("event_id"))){k=[];try{k=com_sas_ci_acs.ob_util.getElementsBySelector(h)}catch(U){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+h+"' : "+U)}if(h=k.length>e?k[e]:k[0]){k=a[f].attribute;var p=h[k];h.attributes&&h.attributes[k]&&
h.attributes[k].value&&"value"!=k&&(p=h.attributes[k].value);p&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&(p=p.trim(),"numeric"==a[f].type&&(h="\\"+(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator),p=parseFloat(p.replace(new RegExp(h,"g"),"").replace(/,/,".")),isNaN(p)&&(p="")),b.add(g,p)))}}else if(m&&""!=m){k=[];try{k=com_sas_ci_acs.ob_util.getElementsBySelector(g)}catch(U){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+
g+"' : "+U)}(h=k.length>e?k[e]:k[0])&&b.add(g,g)}else if(r&&""!=r){if(h=(new RegExp("[?&]"+encodeURIComponent(r)+"=([^&]*)")).exec(location.search))if(p=decodeURIComponent(h[1]))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(t&&""!=t){if(p=location.search)p=p.substr(1),h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(n&&""!=n){if(p=com_sas_ci_acs.ob_configure.getDomain())h=
a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(u&&""!=u){if(p=location.pathname)h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(k&&""!=k&&!isNaN(parseInt(k)))(h=location.pathname.split("/"))&&h.length>=parseInt(k)&&(p=h[parseInt(k)])&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim()));else if(q&&""!=q)(h=
com_sas_ci_acs.ob_util.ckR(q))&&""!=h&&(p=com_sas_ci_acs.ob_util.ckR(q))&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim()));else if(v&&""!=v){if(p=document.title)h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(y&&""!=y){if(p=com_sas_ci_acs.ob_util.extractParam("page_id",window.location.href))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,
k))&&""!=p&&b.add(g,p.trim())}else if(I&&""!=I)(h=d.dataElements["meta."+I])&&""!=h&&(p=h)&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim()));else if(z&&""!=z){if(p=com_sas_ci_acs.ob_util_jsvar.getJsVariable(z))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&"undefined"!==typeof p.toString&&(p=p.toString().trim(),b.add(g,p))}else if(C&&""!=C){if(p=com_sas_ci_acs.ob_util.extractDomain(d.dataElements.referrer))h=
a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(D&&""!=D){if(p=com_sas_ci_acs.ob_util.extractPath(d.dataElements.referrer))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(E&&""!=E){if(p=com_sas_ci_acs.ob_util.extractParam(E,d.dataElements.referrer))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else A&&
""!=A?(p,c&&("targetId"===A?p=c.id:"targetName"===A?p=c.name:"targetHref"===A?c.parentElement.href?p=c.parentElement.href:c.href&&(p=c.href):"targetAlt"===A?p=c.alt:"targetTagName"===A?p=c.tagName:"targetSelectorPath"===A?p=c.id:"targetInnerText"===A?p=c.innerText:"targetCustomAttribute"===A&&(h=a[f].attribute,null!=h&&(p=c.getAttribute(h)))),p&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim()))):R&&""!=R&&(p,c&&("formId"==R&&(p=c.id),"formName"==
R&&(p=c.name)),p&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())))}}},customCartItemAttributeSetup:function(a,b,c,d,e){for(d=0;d<b.length;d++){e=b[d].name;var f=b[d].selector;if(f&&""!=f&&com_sas_ci_acs.ob_util.isCartProductAttribute(b[d],c.get("parent_event_uid"))){var g=[];try{g=com_sas_ci_acs.ob_util.getElementsBySelector(f)}catch(m){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+f+"' : "+m)}if(g&&a<
g.length&&(g=g[a])){var h=b[d].attribute;f=g[h];g.attributes&&g.attributes[h]&&g.attributes[h].value&&"value"!=h&&(f=g.attributes[h].value);f&&(f=com_sas_ci_acs.ob_util.filterPattern(f,b[d].filter,b[d].filterpattern))&&""!=f&&(f=f.trim(),"numeric"==b[d].type&&(g="\\"+(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator),f=parseFloat(f.replace(new RegExp(g,"g"),"").replace(/,/,".")),isNaN(f)&&(f="")),c.add(e,f))}}}},
propertyMatchFoundHelper:function(a,b){var c=0;if(a){var d=[],e=b.filter;b=b.name;"regex"===e?d.push(b):d=b.split("|");for(b=0;b<d.length;b++)if(com_sas_ci_acs.ob_util.strOp(e,a,d[b])){c++;break}}return c},propertyMatch:function(a,b){for(var c=0,d=0;d<a.length;d++){var e=a[d].name,f=a[d].selectorOnly,g=a[d].cookie,h=a[d].pageTitle,m=a[d].pageId,r=a[d].metaTag,t=a[d].referrerUrlDomain,n=a[d].referrerUrlPath,u=a[d].referrerUrlQueryParameter,k=a[d].jsVariable;if(f&&""!=f){g=[];try{g=com_sas_ci_acs.ob_util.getElementsBySelector(e)}catch(q){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+
e+"' : "+q)}g[0]&&c++}else g&&""!=g?(e=com_sas_ci_acs.ob_util.ckR(g))&&""!=e&&(e=com_sas_ci_acs.ob_util.ckR(g),c+=this.propertyMatchFoundHelper(e,a[d])):h&&""!=h?(e=document.title,c+=this.propertyMatchFoundHelper(e,a[d])):m&&""!=m?(e=com_sas_ci_acs.ob_util.extractParam("page_id",window.location.href),c+=this.propertyMatchFoundHelper(e,a[d])):r&&""!=r?(e=b.dataElements["meta."+r])&&""!=e&&(c+=this.propertyMatchFoundHelper(e,a[d])):t&&""!=t?(e=com_sas_ci_acs.ob_util.extractDomain(b.dataElements.referrer),
c+=this.propertyMatchFoundHelper(e,a[d])):n&&""!=n?(e=com_sas_ci_acs.ob_util.extractPath(b.dataElements.referrer),c+=this.propertyMatchFoundHelper(e,a[d])):u&&""!=u?(e=com_sas_ci_acs.ob_util.extractParam(u,b.dataElements.referrer),c+=this.propertyMatchFoundHelper(e,a[d])):k&&""!=k&&(e=com_sas_ci_acs.ob_util_jsvar.getJsVariable(k))&&"undefined"!==typeof e.toString&&(e=e.toString().trim(),c+=this.propertyMatchFoundHelper(e,a[d]))}return c==a.length},filterPattern:function(a,b,c){if(b&&c)if("before"==
b)b=a.indexOf(c),a=-1!=b?a.slice(0,b):"";else if("after"==b)b=a.indexOf(c),a=-1!=b?a.slice(b+c.length):"";else if("before_last"==b)b=a.lastIndexOf(c),a=-1!=b?a.slice(0,b):"";else if("after_last"==b)b=a.lastIndexOf(c),a=-1!=b?a.slice(b+c.length):"";else if("between"==b){c=c.split("__&&__");b=a.indexOf(c[0]);var d=a.indexOf(c[1],b+c[0].length);a=0<=b&&0<=d?a.substring(b+c[0].length,d):0<=b?a.substring(b+c[0].length):0<=d?a.substring(0,d):a}else"regex"==b&&(c=(new RegExp(c)).exec(a))&&0<c.length&&(a=
c[c.length-1]);return a},isSelectorValid:function(a){a=document.createElement("br");a:{try{a.querySelector(void 0)}catch(b){a=!1;break a}a=!0}return a},getElementsBySelector:function(a,b){var c=[],d=b,e=a.indexOf(":contains(");if(-1!==e){var f=a.substring(e,a.length);a=a.substring(0,e)}0===a.indexOf(">")&&(a=a.slice(1).trim());if(!this.isSelectorValid(a))return c;com_sas_ci_acs.ob_util.exists(b)||(d=document);com_sas_ci_acs.ob_util.exists(d.matches)&&d.matches(a)&&(c=c.concat(d));a=d.querySelectorAll(a);
if(com_sas_ci_acs.ob_util.exists(a)&&0<a.length)for(b=0;b<a.length;b++){d=a[b];var g=!0;if(-1!==e){var h=f.substring(10,f.length-1);if(-1===d.innerText.indexOf(h)||-1===d.innerHTML.indexOf(h))g=!1}g&&(c=c.concat(d))}return c}};function overridePrototypes(){!com_sas_ci_acs.ob_util.exists(Element.prototype.matches)&&com_sas_ci_acs.ob_util.exists(Element.prototype.msMatchesSelector)&&(Element.prototype.matches=Element.prototype.msMatchesSelector)}overridePrototypes();
com_sas_ci_acs.ob_form=function(a,b){this.attempts=0;this.changes={};for(var c=0;c<a.length;c++){var d=a.elements[c];if("password"!=com_sas_ci_acs.ob_util.toLowerCase(d.type)){var e=com_sas_ci_acs.ob_util.idOf(d);if(""==e)com_sas_ci_acs.ob_util.log("un-id'd element in form ["+a.id+"] skipped");else{var f=com_sas_ci_acs.ob_util.toLowerCase(d.tagName);d=com_sas_ci_acs.ob_util.toLowerCase(d.type);com_sas_ci_acs.ob_util.log("tracking changes on "+b+"["+f+":"+d+"]:"+e);this.changes[e]=0}}}};
com_sas_ci_acs._ob_configure=function(){this.w3c="undefined"==typeof window.event?!0:!1;this.w3c||(this.w3c="undefined"==typeof document.createEventObject?!0:!1);this.limIE=2083;this.validateEvents=!0;this.sendMeta={};this.sendCookies={};this.sendJsvars={};this.sendMeta.load=!0;this.sendMeta.cart=!0;this.sendMeta.submit=!0;this.sendMeta.click=!0;this.sendMeta.contentchange=!0;this.sendMeta.jsvarchange=!0;this.sendMeta.cartaction=!0;this.sendCookies.load=!0;this.sendCookies.cart=!0;this.sendCookies.submit=
!0;this.sendCookies.click=!0;this.sendCookies.contentchange=!0;this.sendCookies.jsvarchange=!0;this.sendMeta.cartaction=!0;this.sendJsvars.load=!0;this.sendJsvars.cart=!0;this.sendJsvars.submit=!0;this.sendJsvars.click=!0;this.sendJsvars.contentchange=!0;this.sendJsvars.jsvarchange=!0;this.sendMeta.cartaction=!0;this.forms={}};com_sas_ci_acs._ob_configure.prototype.initialize=function(){typeof this.ob_cfg==com_sas_ci_acs.ob_util.f?(this.ob_cfg(),com_sas_ci_acs._ob_dom.initialize()):com_sas_ci_acs.ob_util.log("ERROR: com_sas_ci_acs._ob_configure.initialize(): No configuration.")};
com_sas_ci_acs._ob_configure.prototype.getLoadId=function(){return this.load_guid};com_sas_ci_acs._ob_configure.prototype.getDomain=function(){return com_sas_ci_acs.overrideDomain||document.domain};com_sas_ci_acs.ob_configure=new com_sas_ci_acs._ob_configure;
com_sas_ci_acs._ob_dom=function(){function a(a,b){var d="";if(com_sas_ci_acs.ob_util.exists(b))for(var c=0;c<b.length;c++)d+="input[type="+b[c]+"], ";d=d.replace(/,\s*$/,"");return a.querySelectorAll(d)}function b(a,b){if(a=a.ci360_selectors)for(var d=a.length,c=0;c<d;c++)b.add("_tsp"+(c+1),a[c])}function c(a){a||(a=document);if(!com_sas_ci_acs.ob_util.cachedTspSelectors){for(var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid,d=b.length,c=[],l=0;l<d;l++){var e=b[l];e=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes[e];
for(var f=e.length,k=!1,g=0;g<f&&!k;g++){var h=e[g].targetSelector;h&&(k=!0,c.push(h))}}if(b=com_sas_ci_acs.ob_event.prototype.termConfiguration().tsp)for(var m in b)c.push(b[m]);com_sas_ci_acs.ob_util.cachedTspSelectors=c}c=com_sas_ci_acs.ob_util.cachedTspSelectors.length;for(m=0;m<c;m++)for(b=com_sas_ci_acs.ob_util.cachedTspSelectors[m],d=a.querySelectorAll(b),l=d.length,e=0;e<l;e++)f=d[e],(k=f.ci360_selectors)?k.push(b):f.ci360_selectors=[b]}function d(){try{c()}catch(X){com_sas_ci_acs.ob_util.log("error in decorateElementsWithSelectors")}u(a(document,
ba));q(document);I(document,0);D();f(window,"unload",t,!0);"interactive"===document.readyState||"complete"===document.readyState?n(null):"undefined"!==typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",n,!0);"complete"===document.readyState?g(null):f(window,"load",g,!0);sa();ka();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars){var b=(new com_sas_ci_acs._ob_jsvarchange_configuration).getConfig();
if(b)for(var d in b){var x=b[d];try{var e=x.split("."),S=e.pop();if(0<e.length){for(var k=e.pop(),h=window,m=0;m<e.length;m++)h=h[e[m]];ta(d,S,h[k])}}catch(X){com_sas_ci_acs.ob_util.log(x+" variable will not be watched: "+X)}}}f(document.body,"DOMNodeInserted",la,!0)}var e=function(a){return[].filter.call(a,function(a){return/^data-/.test(a.name)})},f=function(a,b,d,c){if(!com_sas_ci_acs.ob_util.exists(a)||com_sas_ci_acs.ob_util.isUndefined(b)||""==b||typeof d!=com_sas_ci_acs.ob_util.f)return!1;com_sas_ci_acs.ob_util.isUndefined(c)&&
(c=!0);com_sas_ci_acs.ob_util.isUndefined(a.addEventListener)?com_sas_ci_acs.ob_util.isUndefined(a.attachEvent)||a.attachEvent("on"+b,d):a.addEventListener(b,d,c);return!0},g=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads){var a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD);var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_system_eventid;
!com_sas_ci_acs.ob_util.isUndefined(b)&&0<b.length&&(a.add("eventSource","webmarketing|ace"),a.add("event_uid",b[0]));setTimeout(function(){a.send()},0);b=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventid;if(!com_sas_ci_acs.ob_util.isUndefined(b))for(var d=0;d<b.length;d++)if(!com_sas_ci_acs.ob_util.isMagicBoxEvent(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype[b[d]])){var c=[],e=null;if(com_sas_ci_acs.ob_util.isCartEvent(b[d])){e=Math.floor(1E12*Math.random()+
1);var f=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_prd_selector;if(!com_sas_ci_acs.ob_util.isUndefined(f)){var k=f[b[d]];if(k&&""!=k){f=[];try{f=com_sas_ci_acs.ob_util.getElementsBySelector(k)}catch(aa){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+k+"' : "+aa)}for(k=0;k<f.length;k++)c.push(r(b[d],k,e))}}}m(b[d],e,c)}}setTimeout(function(){(new com_sas_ci_acs.ob_injector).injectDeferred()},com_sas_ci_acs.ob_util.getDeferredSpotTimeout());com_sas_ci_acs._ob_cart_handlers.scrapeHandler()},
h=function(a){a=com_sas_ci_acs.ob_configure.isCollectionEnabled().event_properties[a];return!com_sas_ci_acs.ob_util.isUndefined(a)&&a?!com_sas_ci_acs.ob_util.propertyMatch(a,com_sas_ci_acs.ob_util.getLoadEventInstance()):!1},m=function(a,b,d){var c=1;if(!h(a)){var l=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD);l.add("eventSource","webmarketing");l.add("event_id",a);var e=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventname;com_sas_ci_acs.ob_util.isUndefined(e)||
(e=e[a])&&l.add("eventname",e);e=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventsubtype;com_sas_ci_acs.ob_util.isUndefined(e)||(e=e[a])&&(e===com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_CONFIRMATION_EVENT?l.add("eventname",e):l.add("eventsubtype",e));e=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype;com_sas_ci_acs.ob_util.isUndefined(e)||(e=e[a])&&l.add("eventtype",e);com_sas_ci_acs.ob_util.isUndefined(b)||b&&l.add("cart_snapshot_id",b);if(!com_sas_ci_acs.ob_util.isUndefined(d)&&
d){for(b=0;b<d.length;b++)l.add("cartitem."+(b+1),d[b].data);l.add("cartitem_count",d.length)}d=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_system_type;com_sas_ci_acs.ob_util.isUndefined(d)||(d=d[a])&&l.add("system_type",d);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(d)&&(e=d[a])){com_sas_ci_acs.ob_util.customAttributeSetup(e,l,null);for(var x=0;x<e.length;x++)if((d=e[x].login_event_type)||(d=e[x].type),d){b=e[x].obscured;
var f=e[x].name;b&&"true"==b&&(b=l.get(f),b=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(b)+com_sas_ci_acs.ob_util.account).toString(),l.add(f,b),l.add("ffobscure."+c,f),c++,l.add("login_event",b),l.add("ffobscure."+c,"login_event"),c++);l.add("login_event_type",d)}}d=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(d)&&(a=d[a]))for(e=0;e<a.length;e++){x=a[e].name;com_sas_ci_acs.ob_util.customAttributeSetup(a,l,null);if(!l.get("User_ID_Attribute"))return;
(d=a[e].login_event_type)||(d=a[e].type);l.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT);l.add("event","IdentityEvent");d&&l.add("login_event_type",d);(b=a[e].obscured)&&"true"==b&&(d=l.get(x),b=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(d)+com_sas_ci_acs.ob_util.account).toString(),l.add(x,b),l.add("ffobscure."+c,x),c++,l.add("login_event",b),l.add("ffobscure."+c,"login_event"),c++)}setTimeout(function(){l.send()},0)}},r=function(a,b,d){if(!h(a)){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM);
c.add("eventSource","webmarketing");c.add("parent_event_uid",a);var l=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventname;com_sas_ci_acs.ob_util.isUndefined(l)||(l=l[a])&&c.add("eventname",l);l=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype;com_sas_ci_acs.ob_util.isUndefined(l)||(l=l[a])&&c.add("eventtype",l);com_sas_ci_acs.ob_util.isUndefined(d)||d&&c.add("cart_snapshot_id",d);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_system_type;com_sas_ci_acs.ob_util.isUndefined(d)||
(d=d[a])&&c.add("system_type",d);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_attributes;com_sas_ci_acs.ob_util.isUndefined(d)||(a=d[a])&&com_sas_ci_acs.ob_util.customCartItemAttributeSetup(b,a,c,null);if(c.validate()){c.data="";for(var e in c.dataElements)typeof c.dataElements[e]!=com_sas_ci_acs.ob_util.f&&(0<c.data.length&&(c.data+="&"),c.data+=encodeURIComponent(e)+"="+encodeURIComponent(c.dataElements[e]));c.data=c.excludeDataElements(c.data)}return c}},t=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)com_sas_ci_acs.ob_util.isFirefoxBrowser()?(new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.UNLOAD)).send(!0):(new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.UNLOAD)).send(!1)},n=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads){var a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.DOM_CONTENT_LOADED);
setTimeout(function(){a.send()},0)}},u=function(a){var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks;if(!com_sas_ci_acs.ob_util.exists(b)||"true"===b)for(b=0;b<a.length;b++){var d=a[b];d.addEventListener("click",k,!0);"true"===com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&d.addEventListener("mouseover",k,!0);var c=d;for(var l=[],e=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid,f=0;f<e.length;f++){var g=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes[e[f]];
var h=g[0].targetSelector;if(com_sas_ci_acs.ob_util.exists(g))if(com_sas_ci_acs.ob_util.exists(h)){try{var m=com_sas_ci_acs.ob_util.getElementsBySelector(h)}catch(ya){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+h+"' : "+ya)}g=null;if(m)for(h=0;h<m.length;h++)if(m[h]==c){g=m[h];break}g==c&&l.push(e[f])}else if(com_sas_ci_acs.ob_util.exists(c)){h=g[0].targetId;var n=g[0].targetName,q=g[0].targetHref,v=g[0].targetAlt,r=g[0].targetTagName;g=g[0].targetInnerText;com_sas_ci_acs.ob_util.exists(h)&&
h===c.id&&l.push(e[f]);com_sas_ci_acs.ob_util.exists(n)&&n===c.name&&l.push(e[f]);com_sas_ci_acs.ob_util.exists(q)&&q===c.parentElement.href&&l.push(e[f]);com_sas_ci_acs.ob_util.exists(v)&&v===c.alt&&l.push(e[f]);com_sas_ci_acs.ob_util.exists(r)&&r===c.tagName&&l.push(e[f]);com_sas_ci_acs.ob_util.exists(g)&&g===c.innerText&&l.push(e[f])}}c=l;0<c.length&&(d.tngIds=JSON.stringify(c),d.addEventListener("click",W,!0))}},k=function(a){com_sas_ci_acs.ob_util.exists(a)||(a=window.event);var d=a.type;if("click"===
com_sas_ci_acs.ob_util.toLowerCase(d)||"mouseover"===com_sas_ci_acs.ob_util.toLowerCase(d)){d=a.target;var c=com_sas_ci_acs.ob_util.formTag(d,"input");if(com_sas_ci_acs.ob_util.exists(c)){var l=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CLICK);l.add("referrer",document.URL);l.add("elementTagName",c.tagName);l.add("anchor_id",c.id);l.add("anchor_name",c.name);l.add("anchor_href",c.innerHTML);l.add("location",com_sas_ci_acs.ob_util.getElementPath(d));l.add("targetSelectorPath",
com_sas_ci_acs.ob_util.getElementFullSelector(d));l.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(d));l.add("onclick",d.hasAttribute("onclick")?d.getAttribute("onclick"):"");l.add("title",c.title);l.add("port",location.port);l.add("protocol",location.protocol.substr(0,location.protocol.length-1));com_sas_ci_acs.ob_util.exists(a.currentTarget)&&l.add("inputType",a.currentTarget.type);a=e(d.attributes);b(d,l);for(d=0;d<a.length;d++)l.add(a[d].name,a[d].value);com_sas_ci_acs.ob_util.isSafariBrowser()?
l.send(!1):setTimeout(function(){l.send()},0);return!0}}},q=function(a){var b=a.getElementsByTagName("a");if(void 0!=b)for(var d=0;d<b.length;d++)v(b[d]);void 0!=a.tagName&&"a"==a.tagName.toLowerCase()&&v(a);b=a.getElementsByTagName("area");if(void 0!=b)for(d=0;d<b.length;d++)v(b[d]);void 0!=a.tagName&&"area"==a.tagName.toLowerCase()&&v(a);b=a.getElementsByTagName("button");if(void 0!=b)for(d=0;d<b.length;d++)A(b[d]);void 0!=a.tagName&&"button"==a.tagName.toLowerCase()&&A(a)},v=function(a){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("click",Z,!0):a.attachEvent("onclick",Z);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",Z,!0):a.attachEvent("onmouseover",Z))},y=function(a,b,d){for(var c=[],l=0,e,f,x,w,k,g=0;g<a.length;g++){var h=a[g];e=!0;if(null!=h){var m=h.uri;if(void 0!=m){for(var n=0;n<m.length;n++){x=m[n].p.op;w=m[n].p.values;
f=!1;for(var q=0;q<w.length;q++){k=encodeURI(m[n].p.values[q]).toLowerCase();var v=com_sas_ci_acs.ob_util.parseUri(window.location.href).path.toLowerCase();if(com_sas_ci_acs.ob_util.strOp(x,v,k)){f=!0;break}}if(!f){e=!1;break}}if(!e)continue}m=h.protocol;if(void 0!=m){x=m.p.op;w=m.p.values;f=!1;for(n=0;n<w.length;n++)if(k=m.p.values[n],q=com_sas_ci_acs.ob_util.location(),com_sas_ci_acs.ob_util.strOp(x,q,k)){f=!0;break}if(!f)continue}m=h.domain;if(void 0!=m&&(x=m.p.op,"all"!=x&&(w=m.p.values,0<w.length))){n=
com_sas_ci_acs.ob_util.host();f=!1;for(q=0;q<w.length;q++)if(k=m.p.values[q],com_sas_ci_acs.ob_util.strOp(x,n,k)){f=!0;break}if(!f)continue}n=h.form;if(void 0!=n){for(q=0;q<n.length;q++){m=n[q].attr;x=n[q].op;w=n[q].values;f=!1;for(v=0;v<w.length;v++){k=n[q].values[v];var r=b;"name"==m&&(r=d);if(com_sas_ci_acs.ob_util.strOp(x,r,k)){f=!0;break}}if(!f){e=!1;break}}if(!e)continue}c[l]={};e=h.field;if(void 0!=e)for(f=0;f<e.length;f++){m=e[f].attr;x=e[f].op;w=e[f].values;k="";for(h=0;h<w.length;h++)0<
k.length&&(k+=","),k+=e[f].values[h];c[l][k+"_"+m]=x}else c[l].$$all$$_id="$$all$$";l++}}return c},I=function(a,b){if(a instanceof Element&&"form"==a.tagName.toLowerCase())C(a,b),com_sas_ci_acs.ob_util.anonymous_form_count+=1;else{a=a.getElementsByTagName("form");for(var d=0;d<a.length;d++)C(a[d],d+b);com_sas_ci_acs.ob_util.anonymous_form_count+=a.length}},z=function(a,b){var d=com_sas_ci_acs.ob_util.idOf(a);if(null!=d&&""!=d){for(var c,e,l,f=0;f<a.length;f++)c=a.elements[f],b.contains(c)&&(e=com_sas_ci_acs.ob_util.idOf(c),
""==e?com_sas_ci_acs.ob_util.log("un-id'd element in form ["+a.id+"] skipped"):(l=com_sas_ci_acs.ob_configure.forms[d],com_sas_ci_acs.ob_util.isUndefined(l)||com_sas_ci_acs.ob_util.isUndefined(l.changes[e])&&(l.changes[e]=0),e=com_sas_ci_acs.ob_util.toLowerCase(c.tagName),l=com_sas_ci_acs.ob_util.toLowerCase(c.type),"input"!=e&&"button"!=e||"submit"!=l&&"button"!=l?"input"!=e||"text"!=l&&"textarea"!=l&&"color"!=l&&"date"!=l&&"datetime"!=l&&"datetime-local"!=l&&"email"!=l&&"file"!=l&&"month"!=l&&"number"!=
l&&"range"!=l&&"search"!=l&&"tel"!=l&&"time"!=l&&"url"!=l&&"week"!=l?"select"==e?p(c,d):"input"==e&&"checkbox"==l?U(c,d):"input"==e&&"radio"==l&&ca(c,d):R(c,d):E(c,d,a)));a=a.getElementsByTagName("input");for(f=0;f<a.length;f++)c=a[f],b.contains(c)&&(e=com_sas_ci_acs.ob_util.toLowerCase(c.tagName),l=com_sas_ci_acs.ob_util.toLowerCase(c.type),"input"!=e||"image"!=l||!com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)&&"true"!=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks||
(com_sas_ci_acs.ob_configure.w3c?c.addEventListener("click",W,!0):c.attachEvent("onclick",W,!0)));qa(b.getElementsByTagName("label"),d)}},C=function(a,b){var d=com_sas_ci_acs.ob_util.idOf(a);if(null==d||""==d)d="anonymous_form_"+ ++b;com_sas_ci_acs.ob_configure.forms[d]=new com_sas_ci_acs.ob_form(a,d);b=com_sas_ci_acs._ob_configure.prototype.getFormConfig();var c=a.getAttribute("id"),e=a.getAttribute("name");com_sas_ci_acs.ob_configure.forms[d].obs=y(b.obs,c,e);"inc"==b.nature?com_sas_ci_acs.ob_configure.forms[d].inc=
y(b.inc,c,e):com_sas_ci_acs.ob_configure.forms[d].ign=y(b.ign,c,e);for(var l=0;l<a.length;l++)b=a.elements[l],c=com_sas_ci_acs.ob_util.toLowerCase(b.tagName),e=com_sas_ci_acs.ob_util.toLowerCase(b.type),"input"!=c&&"button"!=c||"submit"!=e&&"button"!=e?"input"!=c||"text"!=e&&"textarea"!=e&&"color"!=e&&"date"!=e&&"datetime"!=e&&"datetime-local"!=e&&"email"!=e&&"file"!=e&&"month"!=e&&"number"!=e&&"range"!=e&&"search"!=e&&"tel"!=e&&"time"!=e&&"url"!=e&&"week"!=e?"select"==c?p(b,d):"input"==c&&"checkbox"==
e?U(b,d):"input"==c&&"radio"==e&&ca(b,d):R(b,d):E(b,d,a);l=a.getElementsByTagName("input");for(var f=0;f<l.length;f++)b=l[f],c=com_sas_ci_acs.ob_util.toLowerCase(b.tagName),e=com_sas_ci_acs.ob_util.toLowerCase(b.type),"input"!=c||"image"!=e||!com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)&&"true"!=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks||(com_sas_ci_acs.ob_configure.w3c?b.addEventListener("click",W,!0):b.attachEvent("onclick",W,!0));if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("submit",function(){return function(){P(a,d)}}(),!0):a.attachEvent("onsubmit",function(){return function(){P(a,d)}}(),!0);qa(a.getElementsByTagName("label"),d)},D=function(a){(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().media)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().media)&&com_sas_ci_acs.SasVideo.loadPlayers(a)},E=function(a,
b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("click",function(){return function(a){da(a,b)}}(),!0):a.attachEvent("onclick",function(){return function(a){da(a,b)}}(),!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",function(){return function(a){da(a,
b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){da(a,b)}}()));(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)&&"submit"===a.type&&a.addEventListener("click",W,!0)},A=function(a){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)com_sas_ci_acs.ob_configure.w3c?
a.addEventListener("click",Y,!0):a.attachEvent("onclick",Y,!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",Y,!0):a.attachEvent("onmouseover",Y));if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("click",W,!0):a.attachEvent("onclick",W)},R=function(a,
b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)com_sas_ci_acs.ob_configure.w3c?(a.addEventListener("change",function(){return function(a){F(a,b)}}(),!0),"text"!=a.getAttribute("type")&&"textarea"!=a.getAttribute("type")||a.addEventListener("select",function(){return function(a){F(a,b)}}(),!0)):(a.attachEvent("onchange",function(){return function(a){F(a,b)}}(),
!0),"text"!=a.getAttribute("type")&&"textarea"!=a.getAttribute("type")||a.attachEvent("onselect",function(){return function(a){F(a,b)}}(),!0));"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",function(){return function(a){F(a,b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){F(a,b)}}()))},p=function(a,b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("change",function(){return function(a){F(a,b)}}(),!0):a.attachEvent("onchange",function(){return function(a){F(a,b)}}(),!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",function(){return function(a){F(a,b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){F(a,b)}}()))},
U=function(a,b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("change",function(){return function(a){F(a,b)}}(),!0):a.attachEvent("onchange",function(){return function(a){F(a,b)}}(),!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",
function(){return function(a){F(a,b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){F(a,b)}}()))},ca=function(a,b){(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)&&U(a,b)},qa=function(a,b){if(!com_sas_ci_acs.ob_util.isUndefined(a))for(var d=0;d<a.length;d++)ma(a[d],b)},ma=function(a,b){"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&
(com_sas_ci_acs.ob_configure.w3c?void 0!=a&&a.addEventListener("mouseover",function(){return function(a){F(a,b)}}(),!0):void 0!=a&&a.attachEvent("onmouseover",function(){return function(a){F(a,b)}}()))},sa=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents){if("undefined"!==typeof document.hidden){var a="hidden";var b="visibilitychange"}else"undefined"!==typeof document.mozHidden?
(a="mozHidden",b="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(a="msHidden",b="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(a="webkitHidden",b="webkitvisibilitychange");"undefined"!==typeof a&&"undefined"!==typeof document.addEventListener&&document.addEventListener(b,function(){return function(b){T(b,document[a])}}(),!0)}},ka=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents){var a=
window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,b=(new com_sas_ci_acs._ob_contentvisible_configuration).getConfig();if(b)for(var d in b)try{for(var c=b[d],e=com_sas_ci_acs.ob_util.getElementsBySelector(c),f=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.maxCCMatches)?50:com_sas_ci_acs.ob_configure.maxCCMatches,k=0;k<e.length&&k<f;k++)a?(new a(function(){var a=d,b=c;return function(d){N(d,a,b)}}())).observe(e[k],{childList:!0,subtree:!1,attributes:!0,
attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}):e[k].addEventListener&&(e[k].addEventListener("DOMNodeInserted",function(){return function(a){na(a,d,c)}}(),!0),e[k].addEventListener("DOMAttrModified",function(){return function(a){ha(a,d,c)}}(),!0),e[k].addEventListener("DOMNodeRemoved",function(){return function(a){oa(a,d,c)}}(),!0),e[k].addEventListener("DOMCharacterDataModified",function(){return function(a){ia(a,d,c)}}(),!0))}catch(aa){com_sas_ci_acs.ob_util.log("exception occurred in instrumentContentVisibility: "+
aa)}}},ta=function(a,b,d){var c=function(){return function(d,c,e,l){ra(a,b,d,c,e,l)}}();com_sas_ci_acs._ob_jsvar.watch(d,c)},la=function(b){b=b.target;if(b instanceof Element)if(com_sas_ci_acs.ob_util.isIEBrowser()){u(a(b,ba));var d=b.tagName.toLowerCase();if("a"===d||"area"===d)v(b);else if("button"===d)A(b);else if("form"===d){var e=com_sas_ci_acs.ob_util.idOf(b);if(null!=e&&""!=e){com_sas_ci_acs.ob_configure.forms[e]=new com_sas_ci_acs.ob_form(b,e);var f=com_sas_ci_acs._ob_configure.prototype.getFormConfig(),
l=b.getAttribute("id"),k=b.getAttribute("name");com_sas_ci_acs.ob_configure.forms[e].obs=y(f.obs,l,k);"inc"==f.nature?com_sas_ci_acs.ob_configure.forms[e].inc=y(f.inc,l,k):com_sas_ci_acs.ob_configure.forms[e].ign=y(f.ign,l,k)}}if("input"===d||"select"===d||"button"===d){d=!1;for(e=b.parentNode;null!=e&&e instanceof Element;){if("form"==e.tagName.toLowerCase()){d=!0;break}e=e.parentNode}d&&z(e,b)}}else{D(b);q(b);try{c(b)}catch(M){com_sas_ci_acs.ob_util.log("error in register node decorate elements with selectors")}u(a(b,
ba));d=!1;for(e=b.parentNode;null!=e&&e instanceof Element;){if("form"==e.tagName.toLowerCase()){d=!0;break}e=e.parentNode}d?z(e,b):I(b,com_sas_ci_acs.ob_util.anonymous_form_count)}},pa=function(a){var b=com_sas_ci_acs.ob_util.isUndefined(a.type)?com_sas_ci_acs.ob_util.toLowerCase(a.nodeName):com_sas_ci_acs.ob_util.toLowerCase(a.type),d=com_sas_ci_acs.ob_util.idOf(a),c=a.value;if("label"==b)com_sas_ci_acs.ob_util.isUndefined(d)&&com_sas_ci_acs.ob_util.isUndefined(a.htmlFor),c=a.textContent;else if("checkbox"==
b&&!a.checked)c="";else if("select-multiple"==b)for(c="",b=0;b<a.selectedOptions.length;b++)d=a.selectedOptions[b],0<c.length&&(c+=","),c+=d.value;return c},da=function(a,b){a||(a=window.event);var d=com_sas_ci_acs.ob_util.toLowerCase(a.type),c=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement;a=com_sas_ci_acs.ob_util.formTag(c,"form");com_sas_ci_acs.ob_util.isUndefined(b)&&(b=com_sas_ci_acs.ob_util.idOf(a));"click"==d&&(d="submit");var e=com_sas_ci_acs.ob_configure.forms[b];com_sas_ci_acs.ob_util.isUndefined(e)||
"submit"==d&&e.attempts++;var f="";null!=a&&(f=com_sas_ci_acs.ob_util.isUndefined(a.attributes.action)||null==a.attributes.action?"":a.attributes.action.value);var l=f.indexOf(":");if(0>l||16<l){var k=new String(document.URL);l=k.lastIndexOf("/");var g=k.lastIndexOf("\\");l=l>g?l:g;0<=l&&(k=k.substr(0,l+1),f=k+f)}k=f.indexOf("//");for(l=f.lastIndexOf("//");k!==l;)f=f.slice(0,l)+f.slice(l+1,f.length),k=f.indexOf("//"),l=f.lastIndexOf("//");var h=new com_sas_ci_acs.ob_event(d);h.add("form._o.id",-1==
b.indexOf("anonymous_form")?b:"");h.add("form._h.id",null!=a?a.getAttribute("id"):"");h.add("form._h.name",null!=a?a.getAttribute("name"):"");h.add("location",com_sas_ci_acs.ob_util.getElementPath(c));h.add("referrer",document.URL);h.add("uri",f);d=com_sas_ci_acs.ob_configure.forms[b].obs;c=!0;"inc"==com_sas_ci_acs.ob_configure.getFormConfig().nature&&(c=!1);f=com_sas_ci_acs.ob_configure.forms[b].ign;k=com_sas_ci_acs.ob_configure.forms[b].inc;l={};g=1;if(null!=a)for(var m=0;m<a.length;m++){var w=
a.elements[m],n=com_sas_ci_acs.ob_util.toLowerCase(w.nodeName),q=com_sas_ci_acs.ob_util.toLowerCase(w.type);if("password"!=q&&("radio"!=q||w.checked)){var v=com_sas_ci_acs.ob_util.idOf(w);if(v&&0!=v.length){var r=w.id,u=w.name,p=pa(w),t=!1;if(c)for(var y,I,z,Q=0;Q<f.length;Q++){if("$$all$$"==f[Q].$$all$$_id)t=!0;else if(0<Object.getOwnPropertyNames(f[Q]).length){y=!0;for(var C in f[Q]){I=!1;if(com_sas_ci_acs.ob_util.strEndsWith(C,"_id")){z=C.slice(0,C.lastIndexOf("_id")).split(",");for(var B=0;B<
z.length;B++)if(com_sas_ci_acs.ob_util.strOp(f[Q][C],r,z[B])){I=!0;break}}else for(z=C.slice(0,C.lastIndexOf("_name")).split(","),B=0;B<z.length;B++)if(com_sas_ci_acs.ob_util.strOp(f[Q][C],u,z[B])){I=!0;break}if(!I){y=!1;break}}y&&(t=!0)}if(t)break}else for(t=!0,Q=0;Q<k.length;Q++){if("$$all$$"==k[Q].$$all$$_id)t=!1;else if(0<Object.getOwnPropertyNames(k[Q]).length){y=!0;for(var D in k[Q]){I=!1;if(com_sas_ci_acs.ob_util.strEndsWith(D,"_id"))for(z=D.slice(0,D.lastIndexOf("_id")).split(","),B=0;B<z.length;B++){if(com_sas_ci_acs.ob_util.strOp(k[Q][D],
r,z[B])){I=!0;break}}else for(z=D.slice(0,D.lastIndexOf("_name")).split(","),B=0;B<z.length;B++)if(com_sas_ci_acs.ob_util.strOp(k[Q][D],u,z[B])){I=!0;break}if(!I){y=!1;break}}y&&(t=!1)}if(!t)break}if(!t){t="form.f."+v;Q="form.f."+v+"._h";B=!1;for(var K=0;K<d.length;K++){if("$$all$$"==d[K].$$all$$_id)B=!0;else if(0<Object.getOwnPropertyNames(d[K]).length){y=!0;for(var G in d[K]){I=!1;if(com_sas_ci_acs.ob_util.strEndsWith(G,"_id")){z=G.slice(0,G.lastIndexOf("_id")).split(",");for(var J=0;J<z.length;J++)if(com_sas_ci_acs.ob_util.strOp(d[K][G],
r,z[J])){I=!0;break}}else for(z=G.slice(0,G.lastIndexOf("_name")).split(","),J=0;J<z.length;J++)if(com_sas_ci_acs.ob_util.strOp(d[K][G],u,z[J])){I=!0;break}if(!I){y=!1;break}}y&&(B=!0)}if(B)break}B&&(p=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(p)+com_sas_ci_acs.ob_util.account).toString(),h.add("ffobscure."+g,t),g++);"checkbox"==q?com_sas_ci_acs.ob_util.isUndefined(l[t])?l[t]=p:l[t]+=","+p:h.add(t,p);h.add(Q+".type",q);h.add(Q+".alt",w.alt);h.add(Q+".id",w.id);h.add(Q+".name",w.name);com_sas_ci_acs.ob_util.isUndefined(e)||
(com_sas_ci_acs.ob_util.exists(e.changes[v])||(e.changes[v]=0),h.add(t+"._o.changes",e.changes[v]),com_sas_ci_acs.ob_util.log(b+"["+n+":"+q+":"+v+"]: changes="+e.changes[v]))}}}}com_sas_ci_acs.ob_util.isUndefined(e)||(h.add("form._o.attempts",e.attempts),com_sas_ci_acs.ob_util.log(b+": attempts="+e.attempts));for(var A in l)com_sas_ci_acs.ob_util.f!=typeof l[A]&&h.add(A,l[A]);com_sas_ci_acs.ob_util.isSafariBrowser()?h.send(!1):setTimeout(function(){h.send()},0);return!0},P=function(a,b){var d=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_eventid;
if(!com_sas_ci_acs.ob_util.isUndefined(d))for(var c=0;c<d.length;c++)O(d[c],a,b);return!0},O=function(a,b,d){if(!h(a)){com_sas_ci_acs.ob_util.isUndefined(d)&&(d=com_sas_ci_acs.ob_util.idOf(b));var c=com_sas_ci_acs.ob_configure.forms[d];com_sas_ci_acs.ob_util.isUndefined(c)||c.attempts++;var e=new com_sas_ci_acs.ob_event("submit");e.add("eventSource","webmarketing");var f=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_eventname;com_sas_ci_acs.ob_util.isUndefined(f)||(f=f[a])&&e.add("eventname",
f);f=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_system_type;com_sas_ci_acs.ob_util.isUndefined(f)||(f=f[a])&&e.add("system_type",f);var l=!1;f="";var k=!1,g="",m="",w=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_elements,x;if(!com_sas_ci_acs.ob_util.isUndefined(w)&&(w=w[a]))for(var n=0;n<w.length;n++){var q=w[n].selector;var v=[];try{v=com_sas_ci_acs.ob_util.getElementsBySelector(q)}catch(va){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+
q+"' : "+va)}q=v[0];q==b&&(e.add("event_id",a),l=!0,f=w[n].elementId,g=w[n].filter,m=w[n].filterpattern,k="true"==w[n].obscured)}n="";q=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(q)){var r=q[a];if(r)for(var p=0;p<r.length;p++){q=r[p].selector;v=[];try{v=com_sas_ci_acs.ob_util.getElementsBySelector(q)}catch(va){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+q+"' : "+va)}q=v[0];q==b&&(e.add("event_id",
a),e.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT),e.add("event","IdentityEvent"),n=r[p].name,g=r[p].filter,m=r[p].filterpattern,(x=r[p].login_event_type)||(x=r[p].type),x&&e.add("login_event_type",x),k="true"==r[p].obscured,l=!0)}}if(l){l=com_sas_ci_acs.ob_configure.forms[d].obs;q=!0;"inc"==com_sas_ci_acs.ob_configure.getFormConfig().nature&&(q=!1);v=com_sas_ci_acs.ob_configure.forms[d].ign;r=com_sas_ci_acs.ob_configure.forms[d].inc;p={};for(var u=1,t=0;t<b.length;t++){var y=
b.elements[t],I=com_sas_ci_acs.ob_util.toLowerCase(y.nodeName),z=com_sas_ci_acs.ob_util.toLowerCase(y.type);if("password"!=z&&("radio"!=z||y.checked)){var C=com_sas_ci_acs.ob_util.idOf(y);if(C&&0!=C.length){w=y.id;var D=y.name,B=pa(y),A=!1;if(q)for(var K,G,J=0;J<v.length;J++){if("$$all$$"==v[J].$$all$$_id)A=!0;else if(0<Object.getOwnPropertyNames(v[J]).length){x=!0;G;for(var E in v[J]){K=!1;if(com_sas_ci_acs.ob_util.strEndsWith(E,"_id")){G=E.slice(0,E.lastIndexOf("_id")).split(",");for(var L=0;L<
G.length;L++)if(com_sas_ci_acs.ob_util.strOp(v[J][E],w,G[L])){K=!0;break}}else for(G=E.slice(0,E.lastIndexOf("_name")).split(","),L=0;L<G.length;L++)if(com_sas_ci_acs.ob_util.strOp(v[J][E],D,G[L])){K=!0;break}if(!K){x=!1;break}}x&&(A=!0)}if(A)break}else for(A=!0,J=0;J<r.length;J++){if("$$all$$"==r[J].$$all$$_id)A=!1;else if(0<Object.getOwnPropertyNames(r[J]).length){x=!0;for(var F in r[J]){K=!1;if(com_sas_ci_acs.ob_util.strEndsWith(F,"_id"))for(G=F.slice(0,F.lastIndexOf("_id")).split(","),L=0;L<G.length;L++){if(com_sas_ci_acs.ob_util.strOp(r[J][F],
w,G[L])){K=!0;break}}else for(G=F.slice(0,F.lastIndexOf("_name")).split(","),L=0;L<G.length;L++)if(com_sas_ci_acs.ob_util.strOp(r[J][F],D,G[L])){K=!0;break}if(!K){x=!1;break}}x&&(A=!1)}if(!A)break}if(!A){A="form.f."+C;J="form.f."+C+"._h";L=!1;for(var N=0;N<l.length;N++){if("$$all$$"==l[N].$$all$$_id)L=!0;else if(0<Object.getOwnPropertyNames(l[N]).length){x=!0;for(var O in l[N]){K=!1;if(com_sas_ci_acs.ob_util.strEndsWith(O,"_id")){G=O.slice(0,O.lastIndexOf("_id")).split(",");for(var P=0;P<G.length;P++)if(com_sas_ci_acs.ob_util.strOp(l[N][O],
w,G[P])){K=!0;break}}else for(G=O.slice(0,O.lastIndexOf("_name")).split(","),P=0;P<G.length;P++)if(com_sas_ci_acs.ob_util.strOp(l[N][O],D,G[P])){K=!0;break}if(!K){x=!1;break}}x&&(L=!0)}if(L)break}if(f==C||n==C)B=com_sas_ci_acs.ob_util.filterPattern(B,g,m);B&&""!=B&&(B=B.trim());L&&(B=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(B)+com_sas_ci_acs.ob_util.account).toString(),e.add("ffobscure."+u,A),u++);C==n&&(L&&(e.add("login_event",B),e.add("ffobscure."+u,"login_event"),u++),k&&!L?(B=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(B)+
com_sas_ci_acs.ob_util.account).toString(),e.add("login_event",B),e.add("ffobscure."+u,"login_event"),u++,e.add("ffobscure."+u,A),u++):e.add("login_event",B));w=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_elements;if(!com_sas_ci_acs.ob_util.isUndefined(w)&&(w=w[a]))for(K=0;K<w.length;K++){x=w[K].elementId;if(C==x||D==x)x=w[K].name,k&&(e.add("ffobscure."+u,x),u++,L||(B=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(B)+com_sas_ci_acs.ob_util.account).toString(),e.add("ffobscure."+
u,A),u++)),L&&!k&&e.add("ffobscure."+u++,x),e.add(x,B);(x=w[K].login_event_type)||(x=w[K].type);x&&e.add("login_event_type",x)}"checkbox"==z?com_sas_ci_acs.ob_util.isUndefined(p[A])?p[A]=B:p[A]+=","+B:e.add(A,B);e.add(J+".type",z);e.add(J+".alt",y.alt);e.add(J+".id",y.id);e.add(J+".name",y.name);com_sas_ci_acs.ob_util.isUndefined(c)||(com_sas_ci_acs.ob_util.exists(c.changes[C])||(c.changes[C]=0),e.add(A+"._o.changes",c.changes[C]),com_sas_ci_acs.ob_util.log(d+"["+I+":"+z+":"+C+"]: changes="+c.changes[C]))}}}}com_sas_ci_acs.ob_util.isUndefined(c)||
(e.add("form._o.attempts",c.attempts),com_sas_ci_acs.ob_util.log(d+": attempts="+c.attempts));for(var R in p)com_sas_ci_acs.ob_util.f!=typeof p[R]&&e.add(R,p[R]);G=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_attributes;com_sas_ci_acs.ob_util.isUndefined(G)||(w=G[a])&&com_sas_ci_acs.ob_util.customAttributeSetup(w,e,b);com_sas_ci_acs.ob_util.isSafariBrowser()?e.send(!1):setTimeout(function(){e.send()},0)}}},F=function(a,b){a||(a=window.event);var d=com_sas_ci_acs.ob_configure.w3c?
a.target:a.srcElement;a=com_sas_ci_acs.ob_util.toLowerCase(a.type);var c=com_sas_ci_acs.ob_util.toLowerCase(d.nodeName),e=com_sas_ci_acs.ob_util.isUndefined(d.type)?c:com_sas_ci_acs.ob_util.toLowerCase(d.type),f=com_sas_ci_acs.ob_util.formTag(d,"form");com_sas_ci_acs.ob_util.isUndefined(b)&&(b=com_sas_ci_acs.ob_util.idOf(f));var l=com_sas_ci_acs.ob_configure.forms[b].obs,k=!0;"inc"==com_sas_ci_acs.ob_configure.getFormConfig().nature&&(k=!1);var h=com_sas_ci_acs.ob_configure.forms[b].ign,g=com_sas_ci_acs.ob_configure.forms[b].inc;
com_sas_ci_acs.ob_util.log("sendFormFieldEvent("+a+") for "+b+"["+c+":"+e+"]");if("password"!=e&&("radio"!=e||d.checked)){var m="";null!=f&&(m=com_sas_ci_acs.ob_util.isUndefined(f.attributes.action)||null==f.attributes.action?"":f.attributes.action.value);var w=m.indexOf(":");if(0>w||16<w){var n=new String(document.URL);w=n.lastIndexOf("/");var q=n.lastIndexOf("\\");w=w>q?w:q;0<=w&&(n=n.substr(0,w+1),m=n+m)}n=m.indexOf("//");for(w=m.lastIndexOf("//");n!==w;)m=m.slice(0,w)+m.slice(w+1,m.length),n=
m.indexOf("//"),w=m.lastIndexOf("//");var v=new com_sas_ci_acs.ob_event(a);v.add("form._o.id",-1==b.indexOf("anonymous_form")?b:"");v.add("form._h.id",null!=f?f.getAttribute("id"):"");v.add("form._h.name",null!=f?f.getAttribute("name"):"");v.add("location",com_sas_ci_acs.ob_util.getElementPath(d));v.add("referrer",document.URL);v.add("uri",m);var r=!1;(f=com_sas_ci_acs.ob_util.idOf(d))&&0!=f.length||(r=!0);m=d.id;n=d.name;w=pa(d);q=com_sas_ci_acs.ob_configure.forms[b];if(!r)if(k)for(var p=0;p<h.length;p++){if("$$all$$"==
h[p].$$all$$_id)r=!0;else if(0<Object.getOwnPropertyNames(h[p]).length){k=!0;var u;for(u in h[p]){var t=!1;if(com_sas_ci_acs.ob_util.strEndsWith(u,"_id")){var y=u.slice(0,u.lastIndexOf("_id")).split(",");for(g=0;g<y.length;g++)if(com_sas_ci_acs.ob_util.strOp(h[p][u],m,y[g])){t=!0;break}}else for(y=u.slice(0,u.lastIndexOf("_name")).split(","),g=0;g<y.length;g++)if(com_sas_ci_acs.ob_util.strOp(h[p][u],n,y[g])){t=!0;break}if(!t){k=!1;break}}k&&(r=!0)}if(r)break}else for(r=!0,u=0;u<g.length;u++){if("$$all$$"==
g[u].$$all$$_id)r=!1;else if(0<Object.getOwnPropertyNames(g[u]).length){k=!0;for(p in g[u]){t=!1;if(com_sas_ci_acs.ob_util.strEndsWith(p,"_id"))for(y=p.slice(0,p.lastIndexOf("_id")).split(","),h=0;h<y.length;h++){if(com_sas_ci_acs.ob_util.strOp(g[u][p],m,y[h])){t=!0;break}}else for(y=p.slice(0,p.lastIndexOf("_name")).split(","),h=0;h<y.length;h++)if(com_sas_ci_acs.ob_util.strOp(g[u][p],n,y[h])){t=!0;break}if(!t){k=!1;break}}k&&(r=!1)}if(!r)break}if(!r){u="form.f."+f;p="form.f."+f+"._h";h=!1;for(g=
0;g<l.length;g++){if("$$all$$"==l[g].$$all$$_id)h=!0;else if(0<Object.getOwnPropertyNames(l[g]).length){k=!0;for(var z in l[g]){t=!1;if(com_sas_ci_acs.ob_util.strEndsWith(z,"_id"))for(y=z.slice(0,z.lastIndexOf("_id")).split(","),r=0;r<y.length;r++){if(com_sas_ci_acs.ob_util.strOp(l[g][z],m,y[r])){t=!0;break}}else for(y=z.slice(0,z.lastIndexOf("_name")).split(","),r=0;r<y.length;r++)if(com_sas_ci_acs.ob_util.strOp(l[g][z],n,y[r])){t=!0;break}if(!t){k=!1;break}}k&&(h=!0)}if(h)break}h&&(w=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(w)+
com_sas_ci_acs.ob_util.account).toString(),v.add("ffobscure.1",u));v.add(u,w);v.add(p+".type",e);v.add(p+".alt",d.alt);v.add(p+".id",d.id);v.add(p+".name",d.name);com_sas_ci_acs.ob_util.isUndefined(q)||(com_sas_ci_acs.ob_util.exists(q.changes[f])||(q.changes[f]=0),"change"==a&&q.changes[f]++,v.add(u+"._o.changes",q.changes[f]),com_sas_ci_acs.ob_util.log(b+"["+c+":"+e+":"+f+"]: changes="+q.changes[f]))}com_sas_ci_acs.ob_util.isUndefined(q)||(v.add("form._o.attempts",q.attempts),com_sas_ci_acs.ob_util.log(b+
": attempts="+q.attempts));setTimeout(function(){v.send()},0);return!0}},Y=function(a){a||(a=window.event);if("click"==com_sas_ci_acs.ob_util.toLowerCase(a.type)||"mouseover"==com_sas_ci_acs.ob_util.toLowerCase(a.type)){var d=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement,c=com_sas_ci_acs.ob_util.formTag(d,"button");if(null!=c){var f="";f="img"==com_sas_ci_acs.ob_util.toLowerCase(d.tagName)?""!=d.alt?d.alt:d.src:""!=c.title?c.title:com_sas_ci_acs.ob_configure.w3c?c.text:c.innerText;var k=c.innerHTML,
l=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_util.toLowerCase(a.type));l.add("referrer",document.URL);l.add("elementTagName",c.tagName);l.add("anchor_id",c.id);l.add("anchor_name",c.name);l.add("anchor_href",k);l.add("location",com_sas_ci_acs.ob_util.getElementPath(d));l.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(d));l.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(d));l.add("onclick",d.hasAttribute("onclick")?d.getAttribute("onclick"):"");l.add("title",
f);l.add("port",location.port);l.add("protocol",location.protocol.substr(0,location.protocol.length-1));a=e(d.attributes);for(c=0;c<a.length;c++)l.add(a[c].name,a[c].value);b(d,l);com_sas_ci_acs.ob_util.isSafariBrowser()?l.send(!1):setTimeout(function(){l.send()},0);return!0}}},Z=function(a){a||(a=window.event);if("click"==com_sas_ci_acs.ob_util.toLowerCase(a.type)||"mouseover"==com_sas_ci_acs.ob_util.toLowerCase(a.type)){var d=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement,c=com_sas_ci_acs.ob_util.formTag(d,
"a");if(null!=c){var f="";if("img"==com_sas_ci_acs.ob_util.toLowerCase(d.tagName))f=""!=d.alt?d.alt:d.src;else if(""!=c.title)f=c.title;else if(f=c.getElementsByTagName("script"),0<f.length){var k=c.cloneNode(!0);for(f=k.getElementsByTagName("script");0<f.length;)f[0].parentNode.removeChild(f[0]),f=k.getElementsByTagName("script");f=com_sas_ci_acs.ob_configure.w3c?k.text:k.innerText}else f=com_sas_ci_acs.ob_configure.w3c?c.text:c.innerText;var l=c.href;k=l.toString();var g=k.lastIndexOf("/"),h=k.lastIndexOf("\\");
k=k.substr((g>h?g:h)+1);g=l.indexOf(":");if(0>g||16<g){var m=new String(document.URL);g=m.lastIndexOf("/");h=m.lastIndexOf("\\");g=g>h?g:h;0<=g&&(m=m.substr(0,g+1),l=m+l)}var n=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_util.toLowerCase(a.type));n.add("eventSource","ace");n.add("referrer",document.URL);n.add("elementTagName",c.tagName);n.add("anchor_id",c.id);n.add("anchor_name",c.name);n.add("anchor_href",k);n.add("location",com_sas_ci_acs.ob_util.getElementPath(d));n.add("targetSelectorPath",
com_sas_ci_acs.ob_util.getElementFullSelector(d));n.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(d));n.add("targetAlt",d.hasAttribute("alt")?d.getAttribute("alt"):"");n.add("onclick",d.hasAttribute("onclick")?d.getAttribute("onclick"):"");n.add("uri",l);n.add("title",f);n.add("port",location.port);n.add("protocol",location.protocol.substr(0,location.protocol.length-1));a=e(d.attributes);for(c=0;c<a.length;c++)n.add(a[c].name,a[c].value);a=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid;
if(!com_sas_ci_acs.ob_util.isUndefined(a))for(c=0;c<a.length;c++)ea(a[c],d);b(d,n);com_sas_ci_acs.ob_util.isSafariBrowser()?n.send(!1):setTimeout(function(){n.send()},0);return!0}}},ea=function(a,b){if(!h(a)){var d={eventSource:"webmarketing"},c=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventname;com_sas_ci_acs.ob_util.isUndefined(c)||(c=c[a])&&(d.eventname=c);c=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_system_type;com_sas_ci_acs.ob_util.isUndefined(c)||(c=c[a])&&(d.system_type=
c);c=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(c)&&(c=c[a])){var e=c[0].targetSelector;if(e&&""!=e){var f=[];try{f=com_sas_ci_acs.ob_util.getElementsBySelector(e)}catch(V){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+e+"' : "+V)}var k=null;for(e=0;e<f.length;e++)if(f[e]==b){k=f[e];break}if(k==b){var l=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CLICK),g;for(g in d)l.add(g,d[g]);
l.add("event_id",a);com_sas_ci_acs.ob_util.customAttributeSetup(c,l,k,null,e);for(f=0;f<c.length;f++)b=c[f].name,com_sas_ci_acs.ob_util.notBlank(b)&&(d=c[f].login_event_type,com_sas_ci_acs.ob_util.notBlank(d)&&(l.add("login_event_type",d),d=l.get(b),com_sas_ci_acs.ob_util.notBlank(d)&&((g=c[f].obscured)&&"true"==g?(d=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(d)+com_sas_ci_acs.ob_util.account).toString(),l.add(b,d),l.add("ffobscure.1",b),l.add("login_event",d),l.add("ffobscure.2","login_event")):
l.add("login_event",d))));c=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(c)&&(a=c[a]))for(com_sas_ci_acs.ob_util.customAttributeSetup(a,l,k,null,e),c=0;c<a.length;c++)if(b=a[c].name,(d=a[c].login_event_type)||(d=a[c].type),d&&l.add("login_event_type",d),d=l.get(b))(g=a[c].obscured)&&"true"==g?(d=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(d)+com_sas_ci_acs.ob_util.account).toString(),l.add(b,d),l.add("ffobscure.1",b),l.add("login_event",
d),l.add("ffobscure.2","login_event")):l.add("login_event",d),l.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT),l.add("event","IdentityEvent");com_sas_ci_acs.ob_util.isSafariBrowser()?l.send(!1):setTimeout(function(){l.send()},0)}}else if(b){e=!0;for(k in c[0])k&&"targetId"==k?c[0][k]!=b.id&&(e=!1):k&&"targetName"==k?c[0][k]!=b.name&&(e=!1):k&&"targetHref"==k?c[0][k]!=b.parentElement.href&&(e=!1):k&&"targetAlt"==k?c[0][k]!=b.alt&&(e=!1):k&&"targetTagName"==k?c[0][k]!=b.tagName&&
(e=!1):k&&"targetInnerText"==k?c[0][k]!=b.innerText&&(e=!1):k&&"targetOnClick"==k?c[0][k]!=b.onclick&&(e=!1):k&&c[0][k]!=b[k]&&(e=!1);e&&(l.add("event_id",a),com_sas_ci_acs.ob_util.customAttributeSetup(c,l,b),com_sas_ci_acs.ob_util.isSafariBrowser()?l.send(!1):setTimeout(function(){l.send()},0))}}}},W=function(a){a||(a=window.event);a=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement;for(var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid,d=0;d<b.length;d++)ja(b[d],a)},ja=function(a,
b){if(!h(a)){var d=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes[a];if(d){var c=d[0].targetSelector,f=d[0].targetId,k=d[0].targetName,l=d[0].targetHref,g=d[0].targetAlt,m=d[0].targetTagName,n=d[0].targetInnerText;if(c&&""!=c){k=[];try{k=com_sas_ci_acs.ob_util.getElementsBySelector(c)}catch(ua){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+c+"' : "+ua)}c=null;for(f=0;f<k.length;f++)if(k[f]==b){c=k[f];break}if(c==b){var q=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CLICK);
q.add("eventSource","webmarketing");q.add("referrer",document.URL);q.add("location",com_sas_ci_acs.ob_util.getElementPath(b));q.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(b));q.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(b));q.add("port",location.port);q.add("protocol",location.protocol.substr(0,location.protocol.length-1));q.add("onclick",b.hasAttribute("onclick")?b.getAttribute("onclick"):"");(k=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventname[a])&&
q.add("eventname",k);q.add("event_id",a);k=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_system_type;com_sas_ci_acs.ob_util.isUndefined(k)||(k=k[a])&&q.add("system_type",k);k=e(b.attributes);for(b=0;b<k.length;b++)q.add(k[b].name,k[b].value);com_sas_ci_acs.ob_util.customAttributeSetup(d,q,c,null,f);for(m=0;m<d.length;m++)b=d[m].name,com_sas_ci_acs.ob_util.notBlank(b)&&(k=d[m].login_event_type,com_sas_ci_acs.ob_util.notBlank(k)&&(q.add("login_event_type",k),g=q.get(b),com_sas_ci_acs.ob_util.notBlank(g)&&
((l=d[m].obscured)&&"true"==l?(l=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(g)+com_sas_ci_acs.ob_util.account).toString(),q.add(b,l),q.add("ffobscure.1",b),q.add("login_event",l),q.add("ffobscure.2","login_event")):q.add("login_event",g))));d=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(d)&&(a=d[a]))for(com_sas_ci_acs.ob_util.customAttributeSetup(a,q,c,null,f),d=0;d<a.length;d++){b=a[d].name;(k=a[d].login_event_type)||(k=a[d].type);
if(g=q.get(b))(l=a[d].obscured)&&"true"==l?(l=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(g)+com_sas_ci_acs.ob_util.account).toString(),q.add(b,l),q.add("ffobscure.1",b),q.add("login_event",l),q.add("ffobscure.2","login_event")):q.add("login_event",g),q.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT),q.add("event","IdentityEvent");k&&q.add("login_event_type",k)}com_sas_ci_acs.ob_util.isSafariBrowser()?q.send(!1):setTimeout(function(){q.send()},0)}}else if(b&&(c=!1,f&&
""!=f&&f==b.id&&(c=!0),k&&""!=k&&k==b.name&&(c=!0),l&&""!=l&&l==b.parentElement.href&&(c=!0),g&&""!=g&&g==b.alt&&(c=!0),m&&""!=m&&m==b.tagName&&(c=!0),n&&""!=n&&n==b.innerText&&(c=!0),c)){q=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SUBMIT);q.add("eventSource","webmarketing");q.add("referrer",document.URL);q.add("location",com_sas_ci_acs.ob_util.getElementPath(b));q.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(b));q.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(b));
q.add("port",location.port);q.add("protocol",location.protocol.substr(0,location.protocol.length-1));q.add("onclick",b.hasAttribute("onclick")?b.getAttribute("onclick"):"");(k=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventname[a])&&q.add("eventname",k);q.add("event_id",a);k=e(b.attributes);for(a=0;a<k.length;a++)q.add(k[a].name,k[a].value);com_sas_ci_acs.ob_util.customAttributeSetup(d,q,b);com_sas_ci_acs.ob_util.isSafariBrowser()?q.send(!1):setTimeout(function(){q.send()},0)}}}},T=
function(a,b){var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.VISIBILITY_CHANGE);d.add("uri",document.URL);d.add("hidden",b);setTimeout(function(){d.send()},0)},N=function(a,b,d){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()){if(2===a.length){var c=!1,e=a[0],f=a[1],k=null,g=null;1===e.removedNodes.length&&0===e.addedNodes.length&&1===f.addedNodes.length&&0===f.removedNodes.length?(k=f.addedNodes,g=e.removedNodes,c=!0):1===e.addedNodes.length&&
0===e.removedNodes.length&&1===f.removedNodes.legnth&&0===f.addedNodes.length&&(k=e.addedNodes,g=f.removedNodes,c=!0);c&&(a=[{addedNodes:k,removedNodes:g,type:"childList",target:e.target}])}a.forEach(function(a){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);c.add("uri",document.URL);-1!=b.indexOf("contentChange")?c.add("eventuid",b):(c.add("event_id",b),c.add("eventSource",
"webmarketing"));c.add("targetselector",d);var e=a.target;e.localName&&c.add("targetname",e.localName);e.id&&c.add("targetid",e.id);if("childList"===a.type)if(0<a.addedNodes.length){e=null;if(1==a.addedNodes.length){var f=a.addedNodes[0];f.nodeType===Node.TEXT_NODE&&(e=f.nodeValue)}f="";1===a.removedNodes.length&&(a=a.removedNodes[0],"undefined"!==typeof a&&a.nodeType===Node.TEXT_NODE&&(f=a.nodeValue));e?(c.add("targettype","attribute"),c.add("attributename","innerText"),c.add("oldvalue",f),c.add("newvalue",
e)):c.add("targettype","childadd")}else 0<a.removedNodes.length&&c.add("targettype","childremove");else if("attributes"===a.type)c.add("targettype","attribute"),c.add("attributename",a.attributeName),c.add("oldvalue",a.oldValue),c.add("newvalue",e.getAttribute(a.attributeName));else if("characterData"===a.type){if(3!=e.nodeType)return;c.add("targettype","attribute");c.add("attributename","innerText");c.add("oldvalue",a.oldValue);c.add("newvalue",e.nodeValue)}if("webmarketing"==c.get("eventSource")){f=
e=a=null;var k=com_sas_ci_acs.ob_configure.isCollectionEnabled().content_attributes;!com_sas_ci_acs.ob_util.isUndefined(k)&&(k=k[b])&&(a=k[0].changeRule,e=k[0].from,f=k[0].to);if(e&&a&&("attrValueToValue"==a||"attrValueToAny"==a)&&(!c.get("oldvalue")||e!=c.get("oldvalue"))||f&&a&&("attrValueToValue"==a||"attrAnyToValue"==a)&&(!c.get("newvalue")||f!=c.get("newvalue")))return}setTimeout(function(){c.send()},0);com_sas_ci_acs.ob_util.contentchangeCount++}})}},na=function(a,b,d){if(com_sas_ci_acs.ob_util.contentchangeCount<
com_sas_ci_acs.ob_util.getMaxContentChange()&&(a||(a=window.event),a=a.target?a.target:a.srcElement)){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);c.add("uri",document.URL);c.add("eventid",b);c.add("targetselector",d);a.localName?c.add("targetname",a.localName):a.nodeName&&c.add("targetname",a.nodeName);a.id&&c.add("targetid",a.id);3==a.nodeType?(c.add("targettype","attribute"),c.add("attributename","innerText"),c.add("oldvalue",""),c.add("newvalue",a.nodeValue)):
c.add("targettype","childadd");setTimeout(function(){c.send()},0);com_sas_ci_acs.ob_util.contentchangeCount++}},ha=function(a,b,d){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()){a||(a=window.event);var c=a.target?a.target:a.srcElement;if(c){var e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);e.add("uri",document.URL);e.add("eventid",b);e.add("targetselector",d);e.add("targettype","attribute");c.localName?e.add("targetname",
c.localName):c.nodeName&&e.add("targetname",c.nodeName);c.id&&e.add("targetid",c.id);if("attrChange"in a)switch(a.attrChange){case MutationEvent.ADDITION:case MutationEvent.MODIFICATION:a.attrName&&e.add("attributename",a.attrName),a.prevValue&&e.add("oldvalue",a.prevValue),a.newValue&&e.add("newvalue",a.newValue),setTimeout(function(){e.send()},0)}com_sas_ci_acs.ob_util.contentchangeCount++}}},oa=function(a,b,d){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()&&
(a||(a=window.event),a=a.target?a.target:a.srcElement)){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);c.add("uri",document.URL);c.add("eventid",b);c.add("targetselector",d);a.localName?c.add("targetname",a.localName):a.nodeName&&c.add("targetname",a.nodeName);a.id&&c.add("targetid",a.id);c.add("targettype","childremove");setTimeout(function(){c.send()},0);com_sas_ci_acs.ob_util.contentchangeCount++}},ia=function(a,b,d){if(com_sas_ci_acs.ob_util.contentchangeCount<
com_sas_ci_acs.ob_util.getMaxContentChange()){a||(a=window.event);var c=a.target?a.target:a.srcElement;if(c){var e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);e.add("uri",document.URL);e.add("eventid",b);e.add("targetselector",d);e.add("targettype","attribute");c.localName?e.add("targetname",c.localName):c.nodeName&&e.add("targetname",c.nodeName);c.id&&e.add("targetid",c.id);3==c.nodeType&&(e.add("targettype","attribute"),e.add("attributename","innerText"),e.add("oldvalue",
a.prevValue),e.add("newvalue",c.nodeValue),setTimeout(function(){e.send()},0));com_sas_ci_acs.ob_util.contentchangeCount++}}},ra=function(a,b,d,c,e,f){if(d===b&&("update"===c||"add"===c)&&com_sas_ci_acs.ob_util.jsvarchangeCount<com_sas_ci_acs.ob_util.getMaxJsVarChange()){var k=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.JS_VAR_CHANGE);k.add("name",a);k.add("action",c);-1!=a.indexOf("-")&&(k.add("event_id",a),k.add("eventSource","webmarketing"));com_sas_ci_acs.ob_util.isUndefined(e)||
k.add("oldvalue",e);com_sas_ci_acs.ob_util.isUndefined(f)||k.add("newvalue",f);if("webmarketing"==k.get("eventSource")&&(d=b=null,c=com_sas_ci_acs.ob_configure.isCollectionEnabled().changevar_attributes,!com_sas_ci_acs.ob_util.isUndefined(c)&&(a=c[a])&&(b=a[0].value,d=a[0].op),!(b&&k.get("newvalue")&&d&&com_sas_ci_acs.ob_util.strOp(d,k.get("newvalue"),b))))return;setTimeout(function(){k.send()},0);com_sas_ci_acs.ob_util.jsvarchangeCount++}};window.addEventListener("error",function(a){if(com_sas_ci_acs.ob_util.jspageerrorCount<
com_sas_ci_acs.ob_util.maxJspageErrors)try{var b=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.JS_PAGE_ERROR),d=a.message||"";d.length>com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE&&(d=d.slice(0,com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE));b.add("message",d);b.add("url",a.filename);b.add("line",a.lineno);b.add("column",a.colno);var c=a.error&&a.error.stack||d;c.length>com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE&&(c=c.slice(0,com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE));b.add("error_stack",
c);setTimeout(function(){b.send()},0);com_sas_ci_acs.ob_util.jspageerrorCount++}catch(S){com_sas_ci_acs.ob_util.log("exception occurred when sending javascript page error event : "+S)}});var ba=["radio","button","checkbox"];return{initialize:function(){"interactive"===document.readyState||"complete"===document.readyState?d():window.addEventListener("DOMContentLoaded",d)},findElement:function(a){var b=!1;try{0<com_sas_ci_acs.ob_util.getElementsBySelector(a).length&&(b=!0)}catch(x){com_sas_ci_acs.ob_util.log("exception occurred in findElement for '"+
a+"' : "+x)}return b},findElementMatch:function(a,b){var d=[];try{var c=b[0],e=c.target,f=c.op,k=c.values;c="["+e+"]";"tagName"==e&&(c="*");var g=a?com_sas_ci_acs.ob_util.getElementsBySelector(c,a):com_sas_ci_acs.ob_util.getElementsBySelector(c);for(a=0;a<g.length;a++){var h="tagName"==e?g[a].tagName.toLowerCase():g[a].getAttribute(e);c=!1;for(var m=0;m<k.length;m++){if(com_sas_ci_acs.ob_util.strOp(f,h,k[m])){c=!0;for(var l=1;l<b.length;l++){var q=b[l],n=q.target,v=q.op,r=q.values;h="tagName"==n?
g[a].tagName.toLowerCase():g[a].getAttribute(n);for(var p=!1,u=0;u<r.length;u++)if(com_sas_ci_acs.ob_util.strOp(v,h,r[u])){p=!0;break}if(!p){c=!1;break}}}if(c){d.push(g[a]);break}}}}catch(za){com_sas_ci_acs.ob_util.log("exception occurred in findElementMatch: "+za)}return d},collectTerm:function(a,b,d,c){var e="",f="";try{f=com_sas_ci_acs.ob_util.getElementsBySelector(a);if(com_sas_ci_acs.ob_util.isUndefined(f))return;var k=f[0];null!=k&&(e=this.getContent(k,b,d,c))}catch(aa){com_sas_ci_acs.ob_util.log("exception occurred in collectTerm for '"+
a+"["+b+"]': "+aa)}return null==e?e:e.trim()},filterValue:function(a,b,d){var c=a;"before"==b?(b=c.indexOf(d),c=0<=b?c.substring(0,b):a):"before_last"==b?(b=c.lastIndexOf(d),c=0<=b?c.substring(0,b):a):"after"==b?(b=c.indexOf(d),c=0<=b?c.substring(b+d.length,c.length):a):"after_last"==b?(b=c.lastIndexOf(d),c=0<=b?c.substring(b+d.length,c.length):a):"between"==b?(a=d.split("__&&__"),d=c.indexOf(a[0]),b=c.indexOf(a[1],d+a[0].length),c=0<=d&&0<=b?c.substring(d+a[0].length,b):0<=d?c.substring(d+a[0].length):
0<=b?c.substring(0,b):c):"regex"==b&&(a=(new RegExp(d)).exec(a))&&0<a.length&&(c=a[a.length-1]);return c},openWindow:function(a,b,c,d,e,f,k){var g="";0!=c&&(g+="height="+c+",");0!=d&&(g+="width="+d+",");1==e&&(g+="menubar=no,status=no,toolbar=no,");1==f&&(g+="scrollbars=no,resizable=no,");1==k&&(g+="titlebar=no");return window.open(a,b,g)},instrumentDivClick:function(a){document.getElementById(a)},getContent:function(a,b,c,d){if("innerHTML"==b)var e=a.innerHTML;else if("innerText"==b)e=a.textContent?
a.textContent:a.innerText;else if("outerHTML"==b)e=a.outerHTML;else if("value"==b)e=a.value;else{a=a.attributes.getNamedItem(b);if(!a)return e;e=a.value}e&&0<e.length&&(e=e.trim());c&&0<c.length&&d&&0<d.length&&(e=this.filterValue(e,c,d));return e=e.trim()}}}();
com_sas_ci_acs._ob_jsvar=function(){var a=Object.observe?!0:!1,b=function(a,b,c){try{Object.defineProperty(a,b,{enumerable:!1,configurable:!0,writeable:!1,value:c})}catch(g){a[b]=c}},c=function(a,b){var c=a[b],d=function(){return c},e=function(d){var e=c;c=d;if(e!==d&&a.o_watchers&&a.o_watchers.list)for(var f=0;f<a.o_watchers.list.length;f++)a.o_watchers.list[f].call(a,b,"update",e,d)};try{Object.defineProperty?Object.defineProperty(a,b,{get:d,set:e,enumerable:!0,configurable:!0}):Object.prototype.__defineGetter__&&
Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(a,b,d),Object.prototype.__defineSetter__.call(a,b,e))}catch(m){}};return{watch:function(d,e){if(d instanceof Object||com_sas_ci_acs.ob_util.isArray(d))if(a){var f=function(a){a.forEach(function(a){e(a.name,a.type,a.oldValue,a.object[a.name])})};try{Object.observe(d,f)}catch(h){com_sas_ci_acs.ob_util.log(h)}}else{d.o_watchers||b(d,"o_watchers",{});d.o_watchers.list||(d.o_watchers.list=[]);for(f=0;f<d.o_watchers.list.length;f++)if(d.o_watchers.list[f]===
e)return;d.o_watchers.list.push(e);var g;if(com_sas_ci_acs.ob_util.isArray(d))for(g=0;g<d.length;g++)c(d,g);else if("object"==typeof d)for(g in d)d.hasOwnProperty(g)&&c(d,g)}},unwatch:function(b,c){if(a)Object.unobserve(b,c);else if(b.o_watchers&&b.o_watchers.list)for(var d=0;d<b.o_watchers.list.length;d++)if(b.o_watchers.list[d]===c){b.o_watchers.list.splice(d,1);break}}}}();
com_sas_ci_acs.ob_event=function(a,b){if(com_sas_ci_acs.ob_util.exists(a))if(this.dataElements=[],this.event=a,this.data="","cartitem"===a)this.add("event",this.event);else{com_sas_ci_acs.ob_util.isUndefined(b)||null==b?(b="",null!=com_sas_ci_acs.ob_util_async.custom_domain&&0<com_sas_ci_acs.ob_util_async.custom_domain.length?b=com_sas_ci_acs.ob_util_async.custom_domain+"/t/e/"+com_sas_ci_acs.ob_util.account:(null!=com_sas_ci_acs.ob_util.ccsProtocol&&(b+=com_sas_ci_acs.ob_util.ccsProtocol+":"),b+=
com_sas_ci_acs.ob_configure.ccs),this.url=b):this.url=b;this.add("visitor",com_sas_ci_acs.ob_configure.getVisitorId());this.add("session",com_sas_ci_acs.ob_configure.getSessionId());this.add("domain",com_sas_ci_acs.ob_configure.getDomain());this.add("load_id",com_sas_ci_acs.ob_configure.getLoadId());this.add("event_guid",com_sas_ci_acs.ob_configure.getLoadId()+Math.floor(1E12*Math.random()+1));this.add("tab_id",com_sas_ci_acs.ob_util_async.getTabId());b=(new Date).getTime();var c=0;com_sas_ci_acs.ob_util.lastActivity=
com_sas_ci_acs.ob_configure.getLastActivity();com_sas_ci_acs.ob_util.maxInactivity=com_sas_ci_acs.ob_configure.getMaxInactivity();0<com_sas_ci_acs.ob_util.lastActivity&&(c=b-com_sas_ci_acs.ob_util.lastActivity);com_sas_ci_acs.ob_util.lastActivity=b;com_sas_ci_acs.ob_util.maxInactivity=Math.max(c,com_sas_ci_acs.ob_util.maxInactivity);com_sas_ci_acs.ob_configure.updateActivity(b,com_sas_ci_acs.ob_util.maxInactivity);c="";this.add("hb",com_sas_ci_acs.ob_util.maxInactivity);this.add("version",com_sas_ci_acs.version);
this.add("event",this.event);this.add("flags",c);this.add("event_channel","web");this.add("cts",b);this.add("cts_base",com_sas_ci_acs.ob_util.cts_base);this.add("cts_boot_base",com_sas_ci_acs.ob_util_async.cts_boot_base);this.add("timestamp",com_sas_ci_acs.ob_util.timestamp_base+b-com_sas_ci_acs.ob_util.cts_base);this.add("csn",com_sas_ci_acs.ob_util.nsn());b=com_sas_ci_acs.ob_boot.getDatahubId();com_sas_ci_acs.ob_util.exists(b)&&this.add("datahub_id",b);com_sas_ci_acs.newvid&&(com_sas_ci_acs.newvid=
!1,c+="|nv",this.add("flags",c));com_sas_ci_acs.webmarketing&&this.add("flags",c+"|wm");if(a!==com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM||null===com_sas_ci_acs.ob_util.cachedTermConfiguration)com_sas_ci_acs.ob_util.cachedTermConfiguration=this.getTermConfigs();c=com_sas_ci_acs.ob_util.cachedTermConfiguration.global;a=com_sas_ci_acs.ob_util.cachedTermConfiguration[this.event];b=com_sas_ci_acs.ob_util.cachedTermConfiguration.find;for(var d in c)this.add(d,c[d]);for(var e in a)"function"==typeof a[e]?
(d=a[e](),null!=d&&0<d.length&&this.add(e,d)):com_sas_ci_acs.ob_util.isUndefined(a[e])||null==a[e]||(d=a[e].toString(),0<d.length&&this.add(e,d));for(var f in b)b[f]&&this.add(f,b[f]);if("click"==this.event||"submit"==this.event||"contentchange"==this.event||"cart"==this.event||"jsvarchange"==this.event||"cartaction"==this.event){e=com_sas_ci_acs.ob_util.cachedTermConfiguration.load;for(var g in e)"function"==typeof e[g]?(f=e[g](),null!=f&&0<f.length&&this.add(g,f)):com_sas_ci_acs.ob_util.isUndefined(e[g])||
null==e[g]||(f=e[g].toString(),0<f.length&&this.add(g,f))}com_sas_ci_acs.ob_configure.sendMeta[this.event]&&this.addMeta();com_sas_ci_acs.ob_configure.sendCookies[this.event]&&this.addCookies();com_sas_ci_acs.ob_configure.sendJsvars[this.event]&&this.addJsvars();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackCancelledEvents)?0:com_sas_ci_acs.ob_configure.trackCancelledEvents){g="";for(var h in com_sas_ci_acs.ob_util.cancelledEvents)com_sas_ci_acs.ob_util.cancelledEvents.hasOwnProperty(h)&&
(0<g.length&&(g+=","),g+=h+":"+com_sas_ci_acs.ob_util.cancelledEvents[h]);this.add("pageCancelledEvents",g);this.add("sessionCancelledEvents",com_sas_ci_acs.ob_configure.getCancelledEvents())}if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?0:com_sas_ci_acs.ob_configure.trackEventResponses){h="";for(var m in com_sas_ci_acs.ob_util.eventResponses)com_sas_ci_acs.ob_util.eventResponses.hasOwnProperty(m)&&(0<h.length&&(h+=","),h+=m+":"+com_sas_ci_acs.ob_util.eventResponses[m]);
this.add("pageEventResponses",h);this.add("sessionEventResponses",com_sas_ci_acs.ob_configure.getEventResponses())}}};
com_sas_ci_acs.ob_event.EventNameEnum={CART:"cart",CART_ACTION:"cartaction",CART_ITEM:"cartitem",CHANGE:"change",CLICK:"click",CONTENT_CHANGE:"contentchange",CUSTOM:"custom",DOM_CONTENT_LOADED:"DOMContentLoaded",IDENTITY_EVENT:"IdentityEvent",IDENTITY_CONFIRMATION_EVENT:"IdentityConfirmationEvent",IMPRESSION:"impression",IMPRESSION_VIEWABLE:"impression_viewable",JS_PAGE_ERROR:"jspageerror",JS_VAR_CHANGE:"jsvarchange",LOAD:"load",MEDIA:"media",SPOT_ATTRIBUTES:"spot_attributes",SPOT_CHANGE:"spot_change",
SPOT_CLICKED:"spot_clicked",SPOT_VIEWABLE:"spot_viewable",SUBMIT:"submit",UNLOAD:"unload",VISIBILITY_CHANGE:"visibilitychange",LOGOUT:"logout"};
com_sas_ci_acs.ob_event.prototype.send=function(){for(var a in this.dataElements)if(0===a.indexOf("pe_")){var b=this.dataElements[a];b&&b.length>com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE&&(this.dataElements[a]=b.slice(0,com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE))}else-1<a.indexOf("is_control_group")&&(b=this.dataElements[a],"Y"===b?this.dataElements[a]="true":"N"===b?this.dataElements[a]="false":delete this.dataElements[a]);this.validate()&&(com_sas_ci_acs.ob_util.totalEventsNotMaxed(!0)?(com_sas_ci_acs.ob_event_cache.getLocalEventQueue().push(this),
com_sas_ci_acs.ob_event_cache.eventInProcess||com_sas_ci_acs.ob_event_cache.processQueuedEvents()):com_sas_ci_acs.ob_util.log("Maximum event limit is reached. No more events will be sent on this page."))};com_sas_ci_acs.ob_event.prototype.dispatch=function(a){this.add("sndcts",(new Date).getTime());this.createEventData(a);this.data&&0<this.data.length&&com_sas_ci_acs._o_ajax.sendEvent(this.url,this.data,a)};
com_sas_ci_acs.ob_event.prototype.createEventData=function(){if(this.validate()&&!com_sas_ci_acs.webmarketing){this.data="";for(var a in this.dataElements)typeof this.dataElements[a]!=com_sas_ci_acs.ob_util.f&&(0<this.data.length&&(this.data+="&"),this.data+=encodeURIComponent(a)+"="+encodeURIComponent(this.dataElements[a]));this.data=this.excludeDataElements(this.data)}};
com_sas_ci_acs.ob_event.prototype.validate=function(){if(!com_sas_ci_acs.ob_configure.validateEvents||this.dataElements&&"cartitem"===this.dataElements.event)return!0;var a=!0,b=this.get("visitor"),c=this.get("session"),d=this.get("domain"),e=this.get("event");!a||b&&null!=b&&0!=b.length||(a=!1);!a||c&&null!=c&&0!=c.length||(a=!1);!a||d&&null!=c&&0!=d.length||(a=!1);!a||e&&null!=c&&0!=e.length||(a=!1);return a};com_sas_ci_acs.ob_event.prototype.termConfiguration=function(){return{}};
com_sas_ci_acs.ob_event.prototype.getTermConfigs=function(){return this.termConfiguration()};com_sas_ci_acs.ob_event.prototype.getTermConfig=function(a){return this.termConfiguration()[a]};com_sas_ci_acs.ob_event.prototype.findElements=function(a){var b={},c;for(c in a)b[c]="",0<com_sas_ci_acs.ob_util.getElementsBySelector(a[c]).length&&(b[c]="found");return b};
com_sas_ci_acs.ob_event.prototype.add=function(a,b){com_sas_ci_acs.ob_util.isUndefined(a)||(com_sas_ci_acs.ob_util.isUndefined(b)&&(b=""),this.dataElements[a]=b)};com_sas_ci_acs.ob_event.prototype.get=function(a){if(com_sas_ci_acs.ob_util.isUndefined(a)||!a)return null;a=this.dataElements[a];return com_sas_ci_acs.ob_util.isUndefined(a)||!a?null:a};
com_sas_ci_acs.ob_event.prototype.addMeta=function(){for(var a=document.getElementsByTagName("HEAD")[0].getElementsByTagName("META"),b=0;b<a.length;b++){var c=a[b],d=""!=c.name?c.name:""!=c.httpEquiv?c.httpEquiv:""!=c.getAttribute("property")?c.getAttribute("property"):"";typeof c==com_sas_ci_acs.ob_util.f||com_sas_ci_acs.ob_util.isUndefined(d)||""==d||null==d||this.add("meta."+d,c.content)}};
com_sas_ci_acs.ob_event.prototype.addCookies=function(){var a=(new String(document.cookie)).split("; "),b=[];window.ci360Whitelist&&(b=[/^_SI_SID_1.*$/,/^_SI_VID_1.*$/]);var c=[];window.ci360Blacklist&&(c=[/PHP/]);for(var d=0;d<a.length;d++){var e=a[d],f=e.indexOf("="),g="",h="";0<=f&&(g=e.substr(0,f),h=unescape(e.substr(f+1)));f=0<c.length;e=!1;if(0<b.length){f=!1;for(var m=0;m<b.length&&!f;m++)b[m].test(g)&&(f=!0);f&&(e=!0)}else if(f){f=!1;for(m=0;m<c.length&&!f;m++)c[m].test(g)&&(f=!0);f||(e=!0)}else e=
!0;e&&this.add("cookie."+g,h,!0,4)}};
com_sas_ci_acs.ob_event.prototype.addJsvars=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars){var a=(new com_sas_ci_acs._ob_jsvar_configuration).getConfig();if(a)for(var b in a){var c=a[b];try{var d=com_sas_ci_acs.ob_util_jsvar.getJsVariable(c);d&&"undefined"!==typeof d.toString&&(d=d.toString().trim(),this.add("jsvar."+b,d))}catch(e){com_sas_ci_acs.ob_util.log(c+" variable will not be reported: "+
e)}}}};com_sas_ci_acs.ob_event.prototype.excludeDataElements=function(a){null==com_sas_ci_acs.ob_util.cachedTermConfiguration&&(com_sas_ci_acs.ob_util.cachedTermConfiguration=this.getTermConfigs());var b=com_sas_ci_acs.ob_util.cachedTermConfiguration.exclude,c;for(c in b)-1!=a.indexOf(b[c])&&(a=a.replace(new RegExp(b[c]+"=[^\\&]*\\&","g"),""));return a};
com_sas_ci_acs._o_ajax=function(){var a=function(a){if(1==a.aborted)com_sas_ci_acs.ob_util.log("o_ajax handleResponse: aborted, eventname = ["+a.oe+"]"),com_sas_ci_acs._o_ajax.cancelTimer(a);else if(com_sas_ci_acs.ob_util.isUndefined(a.readyState))com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=undefined, eventname = ["+a.oe+"]");else if(4==a.readyState){com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=4, status = ["+a.status+"],  eventname = ["+a.oe+"]");com_sas_ci_acs._o_ajax.cancelTimer(a);
if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?0:com_sas_ci_acs.ob_configure.trackEventResponses){var b=com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status];void 0===b&&(b=0);b++;com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status]=b;com_sas_ci_acs.ob_configure.updateEventResponses(a.oe,a.status)}g(a)}},b=function(a){if(1==a.aborted)com_sas_ci_acs.ob_util.log("o_ajax handleResponse: aborted, eventname = ["+a.oe+"]"),com_sas_ci_acs._o_ajax.cancelTimer(a);
else if(com_sas_ci_acs.ob_util.isUndefined(a.readyState))com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=undefined, eventname = ["+a.oe+"]");else if(4==a.readyState){com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=4, status = ["+a.status+"],  eventname = ["+a.oe+"]");com_sas_ci_acs._o_ajax.cancelTimer(a);200<=a.status&&300>a.status?(com_sas_ci_acs.ob_event_cache.getLocalEventQueue().pop(!1),com_sas_ci_acs.ob_event_cache.timeoutResendCount=0,com_sas_ci_acs.ob_event_cache.processQueuedEvents(!1)):
com_sas_ci_acs.ob_event_cache.handleCanceledEvent();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?0:com_sas_ci_acs.ob_configure.trackEventResponses){var b=com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status];void 0===b&&(b=0);b++;com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status]=b;com_sas_ci_acs.ob_configure.updateEventResponses(a.oe,a.status)}g(a)}},c=function(a,b,c){com_sas_ci_acs.ob_util.log("o_ajax timeout: oto = ["+a.oto+"], to = ["+c+"] ms, eventname = ["+
a.oe+"]");a.aborted&&(a.aborted=!0);a.abort();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackCancelledEvents)?0:com_sas_ci_acs.ob_configure.trackCancelledEvents)b=com_sas_ci_acs.ob_util.cancelledEvents[a.oe],void 0===b&&(b=0),b++,com_sas_ci_acs.ob_util.cancelledEvents[a.oe]=b,com_sas_ci_acs.ob_configure.updateCancelledEvents(a.oe)},d=function(a,b,c,d,e){try{var f=new XDomainRequest;f.timeout=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.timeout)?500:com_sas_ci_acs.ob_configure.timeout;
f.onerror=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: ERROR")};f.onload=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: ONLOAD");d(f,e)};f.onprogress=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: PROGRESS")};f.ontimeout=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: TIMEOUT")};if(com_sas_ci_acs.ob_util.logging){var g="";if(null!=b){var h=b.indexOf("event=");-1!=h&&(g=b.substring(h+6),h=g.indexOf("&"),-1!=h&&(g=g.substring(0,h)))}f.oe=g;com_sas_ci_acs.ob_util.log("o_ajax.ie8_send data: eventname = ["+
g+"]")}var n=document.URL.toLowerCase();com_sas_ci_acs.ob_util.strStartsWith(n,"http:")&&(a=a.toLowerCase(),a=a.replace("https:","http:").replace(":443/","/"),com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("converted https to http, the new post url is: "+a));if("POST"==c)f.open(c,a),f.send(b);else{var m=null!=b?0<a.indexOf("?")?"&"+b:"?"+b:"";f.open(c,a+m);f.send()}}catch(z){com_sas_ci_acs.ob_util.log("o_ajax.ie8_send(): "+z)}},e=[],f=function(){if(1>e.length)return function(){try{return new (this.XMLHttpRequest||
ActiveXObject)("MSXML2.XMLHTTP.3.0")}catch(m){com_sas_ci_acs.ob_util.log(m)}}();com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("reuse xhr");return e.pop()},g=function(a){com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("release xhr");a.onreadystatechange=function(){};e.push(a)},h=function(b,e,g,h,u,k){com_sas_ci_acs.ob_util.isUndefined(h)&&(h=!0);if(com_sas_ci_acs.ob_util.isUndefined(u)||null==u)u=a;if(com_sas_ci_acs.ob_util.isIE89Browser())d(b,e,g,u,k);else try{var q=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.timeout)?
500:com_sas_ci_acs.ob_configure.timeout,n=f();n.onreadystatechange=function(){u(n,k)};typeof n.onloadend==com_sas_ci_acs.ob_util.f&&(n.onloadend=function(){com_sas_ci_acs.ob_util.log("o_ajax onloadend: eventname = ["+n.oe+"]")});1!=h&&(typeof n.onloadstart==com_sas_ci_acs.ob_util.f?n.onloadstart=function(){n.oto=setTimeout(function(){c(n,b,q)},q);com_sas_ci_acs.ob_util.log("o_ajax setTimeout: oto = ["+n.oto+"], to = ["+q+"] ms")}:(n.oto=setTimeout(function(){c(n,b,q)},q),com_sas_ci_acs.ob_util.log("o_ajax setTimeout: oto = ["+
n.oto+"], to = ["+q+"] ms")));var m=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackCancelledEvents)?!1:com_sas_ci_acs.ob_configure.trackCancelledEvents,r=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?!1:com_sas_ci_acs.ob_configure.trackEventResponses;if(com_sas_ci_acs.ob_util.logging||m||r){var t="";if(null!=e){var C=e.indexOf("event=");-1!=C&&(t=e.substring(C+6),C=t.indexOf("&"),-1!=C&&(t=t.substring(0,C)))}n.oe=t}if("POST"==g)n.open(g,b,
h),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),(com_sas_ci_acs.ob_util.sendBodyAsHeaderAll()||com_sas_ci_acs.ob_util.sendBodyAsHeaderLoad()&&e&&-1<e.indexOf("event=load"))&&n.setRequestHeader("X-SI-EventBody",e),1==h&&typeof n.onloadstart==com_sas_ci_acs.ob_util.f&&(n.onloadstart=function(){n.oto=setTimeout(function(){com_sas_ci_acs.ob_util.log("o_ajax async timeout: oto = ["+n.oto+"], to = ["+q+"] ms, eventname = ["+n.oe+"]");n.aborted&&(n.aborted=!0);n.abort();
com_sas_ci_acs.ob_event_cache.handleCanceledEvent()},q);com_sas_ci_acs.ob_util.log("o_ajax setTimeout: oto = ["+n.oto+"], to = ["+q+"] ms")}),com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("o_ajax send data: eventname = ["+t+"], data = ["+e+"]");else{var D=null!=e?b.indexOf("?")?"&"+e:"?"+e:"";n.open(g,b+D,h);com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("o_ajax get data: uri = ["+b+"], args = ["+D+"]")}0!=h&&(n.withCredentials=!0);n.send(e)}catch(E){com_sas_ci_acs.ob_event_cache.handleCanceledEvent(),
com_sas_ci_acs.ob_util.log("o_ajax.send() error: "+E)}};return{sendEvent:function(a,c,d){h(a,c,"POST",d,b)},fetchContent:function(a,b,c,d,e){h(a,b,"GET",c,d,e)},deleteContent:function(a,b,c,d,e){h(a,b,"DELETE",c,d,e)},cancelTimer:function(a){a.oto?(com_sas_ci_acs.ob_util.log("o_ajax clearTimer: oto = ["+a.oto+"], eventname = ["+a.oe+"]"),clearTimeout(a.oto),a.oto=null):com_sas_ci_acs.ob_util.log("o_ajax clearTimer: no timer to clear, eventname = ["+a.oe+"]")}}}();com_sas_ci_acs.ob_injector=function(){};
com_sas_ci_acs.ob_injector.prototype.getSpotDefinitions=function(){return{}};com_sas_ci_acs.ob_injector.prototype.getDeferredSpots=function(){return com_sas_ci_acs.ob_util.deferredSpots};com_sas_ci_acs.ob_injector.prototype.getViewId=function(){com_sas_ci_acs.ob_util.viewId||(com_sas_ci_acs.ob_util.viewId=Math.floor(1E12*Math.random()+1));return com_sas_ci_acs.ob_util.viewId};
com_sas_ci_acs.ob_injector.prototype.deferrInjection=function(){var a=this.getDeferredSpots(),b=0;if(a)try{b=Object.keys(a).length}catch(d){b=0;for(var c in a)b++}0<b&&com_sas_ci_acs.ob_util.deferredSpotTryCount++<com_sas_ci_acs.ob_util.maxDeferredSpotTry&&setTimeout(function(){(new com_sas_ci_acs.ob_injector).injectDeferred(!0)},com_sas_ci_acs.ob_util.getDeferredSpotTimeout())};
com_sas_ci_acs.ob_injector.prototype.injectAll=function(){"undefined"!=typeof com_sas_ci_acs.ob_configure.csu&&com_sas_ci_acs.ob_configure.csu&&(this.injectSpots(this.getSpotDefinitions()),this.deferrInjection())};com_sas_ci_acs.ob_injector.prototype.injectDeferred=function(a){this.injectSpots(this.getDeferredSpots());!com_sas_ci_acs.ob_util.isUndefined(a)&&a&&this.deferrInjection()};
com_sas_ci_acs.ob_injector.prototype.injectSpots=function(a){if(!com_sas_ci_acs.webmarketing&&a)if(com_sas_ci_acs.ob_util.loadSpotsInBatch())(new com_sas_ci_acs.ob_inject_batch(a)).injectBatch(this.getViewId());else for(var b in a)(new com_sas_ci_acs.ob_inject(b,a[b])).inject(this.getViewId())};
com_sas_ci_acs.fireIfElementVisible=function(a,b){return function(){if(com_sas_ci_acs.ob_util.isElementInViewport(a)&&!a.spot_visible_fired){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE);c.add("eventSource","webmarketing");for(var d in b)c.add(d,b[d]);d=b.spot_id;if(com_sas_ci_acs.ob_util.exists(d)&&com_sas_ci_acs.ob_util_async.virtualSpots[d]){var e=com_sas_ci_acs.ob_util_async.virtualSpots[d].parameters;e&&(e.customid&&c.add("custom_id",e.customid),e.idreference&&
c.add("idreference",e.idreference))}c.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION_VIEWABLE);e=com_sas_ci_acs.ob_configure.isCollectionEnabled().impression_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(e)&&0<e.length&&c.add("event_uid",e[0]);com_sas_ci_acs.ob_util.spotAttributeSetup(d,c);setTimeout(function(){c.send()},0);a.spot_visible_fired=!0}}};
com_sas_ci_acs.spotClicked=function(a,b){return function(){var a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CLICKED);a.add("eventSource","webmarketing");for(var d in b)a.add(d,b[d]);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().clickThrough_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(d)&&0<d.length&&a.add("event_uid",d[0]);d=b.spot_id;if(com_sas_ci_acs.ob_util.exists(d)&&com_sas_ci_acs.ob_util_async.virtualSpots[d]){var e=com_sas_ci_acs.ob_util_async.virtualSpots[d].parameters;
e&&(e.customid&&a.add("custom_id",e.customid),e.idreference&&a.add("idreference",e.idreference))}d&&(a.add("spot_id",d),com_sas_ci_acs.ob_util.spotAttributeSetup(d,a));null!=window.event&&(d=com_sas_ci_acs.ob_util.formTag(window.event.target,"a"),null!=d&&null!=d.href&&(a.add("uri",d.href),a.add("referrer",document.URL)));com_sas_ci_acs.ob_util.isSafariBrowser()?a.send(!1):setTimeout(function(){a.send()},0)}};
var Hashcode={encode:function(a){var b=0,c;if(0==a.length)return b;var d=0;for(c=a.length;d<c;d++){var e=a.charCodeAt(d);b=(b<<5)-b+e;b|=0}return Math.abs(b)}},GeneralBase64={_PADCHAR:"=",_ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_getbyte64:function(a,b){a=this._ALPHA.indexOf(a.charAt(b));if(-1===a)throw"Cannot decode base64";return a},decode:function(a){var b=0,c,d=a.length,e=[];a=String(a);if(window.atob)return atob(a);if(0===d)return a;if(0!==d%4)throw"Cannot decode base64";
a.charAt(d-1)===this._PADCHAR&&(b=1,a.charAt(d-2)===this._PADCHAR&&(b=2),d-=4);for(c=0;c<d;c+=4){var f=GeneralBase64._getbyte64(a,c)<<18|GeneralBase64._getbyte64(a,c+1)<<12|GeneralBase64._getbyte64(a,c+2)<<6|GeneralBase64._getbyte64(a,c+3);e.push(String.fromCharCode(f>>16,f>>8&255,f&255))}switch(b){case 1:f=GeneralBase64._getbyte64(a,c)<<18|GeneralBase64._getbyte64(a,c+1)<<12|GeneralBase64._getbyte64(a,c+2)<<6;e.push(String.fromCharCode(f>>16,f>>8&255));break;case 2:f=GeneralBase64._getbyte64(a,c)<<
18|GeneralBase64._getbyte64(a,c+1)<<12,e.push(String.fromCharCode(f>>16))}return e.join("")},_getbyte:function(a,b){a=a.charCodeAt(b);if(255<a)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return a},encode:function(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);if(window.btoa)return btoa(a);var b,c=[],d=a.length-a.length%3;if(0===a.length)return a;for(b=0;b<d;b+=3){var e=GeneralBase64._getbyte(a,b)<<16|GeneralBase64._getbyte(a,b+1)<<8|GeneralBase64._getbyte(a,
b+2);c.push(this._ALPHA.charAt(e>>18));c.push(this._ALPHA.charAt(e>>12&63));c.push(this._ALPHA.charAt(e>>6&63));c.push(this._ALPHA.charAt(e&63))}switch(a.length-d){case 1:e=GeneralBase64._getbyte(a,b)<<16;c.push(this._ALPHA.charAt(e>>18)+this._ALPHA.charAt(e>>12&63)+this._PADCHAR+this._PADCHAR);break;case 2:e=GeneralBase64._getbyte(a,b)<<16|GeneralBase64._getbyte(a,b+1)<<8,c.push(this._ALPHA.charAt(e>>18)+this._ALPHA.charAt(e>>12&63)+this._ALPHA.charAt(e>>6&63)+this._PADCHAR)}return c.join("")}},
Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.-=",encode:function(a){var b="",c=0;for(a=Base64._utf8_encode(a);c<a.length;){var d=a.charCodeAt(c++);var e=a.charCodeAt(c++);var f=a.charCodeAt(c++);var g=d>>2;d=(d&3)<<4|e>>4;var h=(e&15)<<2|f>>6;var m=f&63;isNaN(e)?h=m=64:isNaN(f)&&(m=64);b=b+this._keyStr.charAt(g)+this._keyStr.charAt(d)+this._keyStr.charAt(h)+this._keyStr.charAt(m)}return b},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=
a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}};function getDecisionParams(a){var b=null;if(null!=a&&null!=spotMap)for(var c in spotMap)spotMap.hasOwnProperty(c)&&c==a&&(b=spotMap[c]);return b}var spotMap={};com_sas_ci_acs.ob_inject_batch=function(a){this.spots=a;this.elements=[]};
com_sas_ci_acs.ob_inject_batch.prototype.populateSpotParams=function(a,b,c){if(!a.jsSpot){var d=a.divId;if(d){var e="",f=null;try{f=com_sas_ci_acs.ob_util.getElementsBySelector(d)[0]}catch(t){com_sas_ci_acs.ob_util.log(t)}if(null!=f){var g=a.service;if(!com_sas_ci_acs.ob_util.isUndefined(g.p))for(var h in g.p)if("domain"!==h&&"customerid"!==h&&"sessionid"!==h){var m=g.p[h];com_sas_ci_acs.ob_util.isUndefined(m)||null==m||"null"==m||(e+="/"+h+"="+m)}g=a.spot_properties;if(!com_sas_ci_acs.ob_util.isUndefined(g)&&
g&&!com_sas_ci_acs.ob_util.propertyMatch(g,com_sas_ci_acs.ob_util.getLoadEventInstance()))return;h=a.spot_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(h)&&h){g=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_ATTRIBUTES);g.dataElements={};com_sas_ci_acs.ob_util.customAttributeSetup(h,g,null,new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));for(var r in g.dataElements)h=Base64.encode(g.dataElements[r].trim()),m=g.dataElements[r].trim(),h=h.replace(/=/g,
""),"product_id"==r||"product_sku"==r?(r+="_key",e+="/"+r+"="+m):e+="/"+r+"="+h}a=a.spot_set_id;if(!com_sas_ci_acs.ob_util.isUndefined(a))for(;0<a.length;){c=Hashcode.encode(a[0]+c);break}e+="/viewid="+c;spotMap[d]=e;f.spotid=b;this.registerCustomerSpotDelivery(b,d);com_sas_ci_acs.ob_util.deferredSpots[b]&&delete com_sas_ci_acs.ob_util.deferredSpots[b];return[e,f]}com_sas_ci_acs.ob_util.deferredSpots[b]=a;return null}}};
com_sas_ci_acs.ob_inject_batch.prototype.getSpotAttributes=function(a){var b="",c=a.spot_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(c)&&c){a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_ATTRIBUTES);a.dataElements={};com_sas_ci_acs.ob_util.customAttributeSetup(c,a,null,new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));for(var d in a.dataElements){c=Base64.encode(a.dataElements[d].trim());var e=a.dataElements[d].trim();c=c.replace(/=/g,"");"product_id"==
d||"product_sku"==d?(d+="_key",b+="/"+d+"="+e):b+="/"+d+"="+c}}return b};
com_sas_ci_acs.ob_inject_batch.prototype.registerCustomerSpotDelivery=function(a,b){"undefined"!==typeof com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_util_async.registerSpot(a,b,function(a,b){a=new CustomEvent("spotReady",{detail:'{"spotid":"'+a+'","taskid":"'+b.taskid+'","creativeid":"'+b.creativeid+'","customid":"'+b.customid+'","productid":"'+b.productid+'","productsku":"'+b.productsku+'","controlgroup":"'+b.controlgroup+
'","variantid":"'+b.variantid+'","selector":"'+b.selector+'","url":"'+b.spotURL+'","idreference":"'+b.idreference+'","content":"'+b.spotContent+'"}'});document.dispatchEvent(a)},null,[])};
com_sas_ci_acs.ob_inject_batch.prototype.injectBatch=function(a){var b=com_sas_ci_acs.ob_configure.csu.replace("hserver","bserverj");b+="/ball";com_sas_ci_acs.ob_configure.getDomain()&&(b+="/domain="+com_sas_ci_acs.ob_configure.getDomain());com_sas_ci_acs.ob_configure.getDatahubId()&&(b+="/customerid="+com_sas_ci_acs.ob_configure.getDatahubId());com_sas_ci_acs.ob_configure.getSessionId()&&(b+="/sessionid="+com_sas_ci_acs.ob_configure.getSessionId());b+="/hint=x";var c=0,d=[],e;for(e in this.spots){var f=
this.spots[e];if(f.jsSpot){var g=!0;f=f.spot_properties;if(null!=f)for(var h=0;h<f.length;h++){var m=f[h];null!=m.selectorOnly&&(m=m.name,null!=m&&(document.querySelector(m)||(g=!1)))}g&&(d[d.length]={spotId:e,index:c},b+="/b"+ ++c+"/spot_id="+e+"/viewid="+a,g=this.getSpotAttributes(this.spots[e]),""!==g&&(b+=g),delete com_sas_ci_acs.ob_util.deferredSpots[e])}b.length<com_sas_ci_acs.ob_util.maxUrlSize?(g=this.populateSpotParams(this.spots[e],e,a))&&1<g.length&&(b+="/b"+ ++c+g[0],this.elements[e]=
g[1]):com_sas_ci_acs.ob_util.deferredSpots[e]=this.spots[e]}c&&com_sas_ci_acs._o_ajax.fetchContent(b,null,!0,this.handleInjectResponseBatch,{elements:this.elements,jsSpotInfoList:d})};
com_sas_ci_acs.ob_inject_batch.prototype.handleInjectResponseBatch=function(a,b){if(1==a.aborted)com_sas_ci_acs._o_ajax.cancelTimer(a);else if(com_sas_ci_acs.ob_util.isUndefined(a.readyState)&&(a.readyState=4,a.status=200),4==a.readyState&&200==a.status&&!com_sas_ci_acs.ob_util.isUndefined(a.response)&&a.response){try{var c=JSON.parse(a.response)}catch(u){}if(a=b.jsSpotInfoList){for(var d=0;d<a.length;d++){var e=a[d];if(null!=e.index){var f=c[e.index];c[e.index]=void 0;if(-1===f.indexOf("default.gif")){var g=
{};try{g.taskId=f.match(/data-taskid="(.*)"><\/data><data data-creative/)[1],g.creativeId=f.match(/data-creativeid="(.*)"><\/data><data data-variant/)[1],g.code=f.match(/data-variant_id(.*)<\/data>(.*)$/)[2]}catch(u){com_sas_ci_acs.ob_util.log("error in jsSpotParsing"+u.message)}"undefined"!==typeof ci360&&g.creativeId&&e.spotId&&g.taskId&&ci360("send",{eventName:"impression",creativeId:g.creativeId,spotId:e.spotId,taskId:g.taskId});try{var h=document.createElement("script");h.type="text/javascript";
var m="try { "+g.code+";if (typeof ci360 !== 'undefined') {ci360('send', {'eventName': 'impressionViewable','creativeId':\""+g.creativeId+"\",'spotId': \""+e.spotId+"\",'taskId':\""+g.taskId+'"});}}catch(e) {console.log("error in jsCreative");console.log(e);}';try{h.appendChild(document.createTextNode(m));var r=document.querySelectorAll("script");e=!1;f=void 0;for(g=0;g<r.length&&!e;g++){var t=r[g];t.nonce&&(e=!0,f=t.nonce)}h.nonce=f;document.head.appendChild(h)}catch(u){h.text=m,document.head.appendChild(h)}}catch(u){com_sas_ci_acs.ob_util.log("error in JS creative")}}}}for(h=
0;h<c.length;h++)void 0===c[h]&&(c.splice(h,1),h--)}h=0;b=b.elements;for(var n in b)b[n]&&(new com_sas_ci_acs.ob_inject).handleInjectResponse(c[h++],b[n])}};com_sas_ci_acs.ob_inject=function(a,b){this.spotId=a;this.spot=b};
com_sas_ci_acs.ob_inject.prototype.inject=function(a){var b=this.spot.divId;if(b){var c="",d=null;try{d=com_sas_ci_acs.ob_util.getElementsBySelector(b)[0]}catch(t){com_sas_ci_acs.ob_util.log(t)}if(null!=d){com_sas_ci_acs.ob_util.log("inject(spot="+this.spotId+") into HTML div "+b);var e=this.spot.service,f=com_sas_ci_acs.ob_configure.csu;if(!com_sas_ci_acs.ob_util.isUndefined(e.p)){var g=!0;for(r in e.p){var h=e.p[r];com_sas_ci_acs.ob_util.isUndefined(h)||null==h||"null"==h||(c+=(g?"?":"&")+r+"="+
h,g=!1)}}com_sas_ci_acs.ob_configure.getSessionId()&&(c+=(g?"?":"&")+"sessionid="+com_sas_ci_acs.ob_configure.getSessionId());e=this.spot.spot_properties;if(com_sas_ci_acs.ob_util.isUndefined(e)||!e||com_sas_ci_acs.ob_util.propertyMatch(e,com_sas_ci_acs.ob_util.getLoadEventInstance())){g=this.spot.spot_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(g)&&g){e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_ATTRIBUTES);e.dataElements={};com_sas_ci_acs.ob_util.customAttributeSetup(g,
e,null,new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));for(var m in e.dataElements){g=Base64.encode(e.dataElements[m].trim());var r=e.dataElements[m].trim();g=g.replace(/=/g,"");"product_id"==m||"product_sku"==m?(m+="_key",c+="/"+m+"="+r):c+="/"+m+"="+g}}m=this.spot.spot_set_id;if(!com_sas_ci_acs.ob_util.isUndefined(m))for(;0<m.length;){a=Hashcode.encode(m[0]+a);break}c+="/viewid="+a;spotMap[b]=c;f=f+c+"/hint=x";d.spotid=this.spotId;"undefined"!==typeof com_sas_ci_acs.ob_configure.customerSpotDelivery&&
com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_util_async.registerSpot(this.spotId,b,function(a,b){a=new CustomEvent("spotReady",{detail:'{"spotid":"'+a+'","taskid":"'+b.taskid+'","creativeid":"'+b.creativeid+'","customid":"'+b.customid+'","productid":"'+b.productid+'","productsku":"'+b.productsku+'","controlgroup":"'+b.controlgroup+'","variantid":"'+b.variantid+'","selector":"'+b.selector+'","url":"'+b.spotURL+'","idreference":"'+b.idreference+'","content":"'+b.spotContent+'"}'});
document.dispatchEvent(a)},null,[]);com_sas_ci_acs._o_ajax.fetchContent(f,null,!0,this.handleInjectResponse,d);com_sas_ci_acs.ob_util.deferredSpots[this.spotId]&&delete com_sas_ci_acs.ob_util.deferredSpots[this.spotId]}}else com_sas_ci_acs.ob_util.log("inject(spot="+this.spotId+"): HTML div["+b+"] not found"),com_sas_ci_acs.ob_util.deferredSpots[this.spotId]=this.spot}};
function loadDoc(a,b){try{var c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.innerHTML=c.responseText)};c.open("GET",a,!0);c.send()}catch(d){com_sas_ci_acs.ob_util.log("Error while loading document: "+a+" error:"+d)}}function extractValue(a){return com_sas_ci_acs.ob_util.isUndefined(a)?null:"object"===typeof a?com_sas_ci_acs.ob_util.isUndefined(a.value)?null:a.value:a}
var dataTagToEventMap={taskid:"task_id",creativeid:"creative_id",productid:"product_id",productsku:"product_sku",control:"is_control_group","context-url":"context_url",recgroup:"rec_group"};
function handleInjectResponse(a,b){if("object"===typeof a){var c=a.responseText;var d=!0}else c=a,d=!1;var e="undefined"!==typeof com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_configure.customerSpotDelivery;if(d&&1==a.aborted)com_sas_ci_acs._o_ajax.cancelTimer(a);else if(d&&com_sas_ci_acs.ob_util.isUndefined(a.readyState)&&(a.readyState=4,a.status=200),!d||4==a.readyState)if(d&&com_sas_ci_acs._o_ajax.cancelTimer(a),!(d&&200!=a.status||com_sas_ci_acs.ob_util.isUndefined(c))&&
c&&null!==b){var f={};try{var g=(new window.DOMParser).parseFromString(c,"text/html");var h=g.getElementsByTagName("data");if(com_sas_ci_acs.ob_util.exists(h))for(var m=0;m<h.length;m++){var r=h[m].attributes;if(0<r.length){var t=r[0].name.toLowerCase(),n=extractValue(r[0]);0===t.indexOf("data-")&&(t=t.slice(5,t.length));com_sas_ci_acs.ob_util.exists(dataTagToEventMap[t])?f[dataTagToEventMap[t]]=n:f[t]=n}}}catch(I){com_sas_ci_acs.ob_util.log("Error while sending generic event: "+I)}if(com_sas_ci_acs.ob_util.exists(f.creative_id)){h=
b;e||("DIV"==b.tagName?(b.innerHTML=c,b.style.visibility="visible"):(h=document.createElement("div"),h.innerHTML=c,null!=b.parentNode&&b.parentNode.replaceChild(h,b),b.style.visibility="visible"),0<g.getElementsByTagName("body").length&&(g=g.getElementsByTagName("body")[0].childNodes[0].nodeValue)&&0==g.indexOf("http")&&loadDoc(g,h),com_sas_ci_acs.ob_util.exists(f.context_url)&&loadDoc(f.context_url,h));com_sas_ci_acs.ob_util.exists(b)&&(f.spot_id=b.spotid);var u=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CHANGE);
u.add("eventSource","webmarketing");for(var k in f)u.add(k,f[k]);if(com_sas_ci_acs.ob_util.exists(e)&&com_sas_ci_acs.ob_util.exists(com_sas_ci_acs.ob_util_async.virtualSpots[f.spot_id])){if(com_sas_ci_acs.ob_util.exists(b.className)&&com_sas_ci_acs.ob_util.exists(com_sas_ci_acs.ob_configure.virtualSpotsClassId)){var q=com_sas_ci_acs.ob_configure.virtualSpotClassId.substr(1)+"-id-";if(-1!==b.className.indexOf(q))for(b=b.className.split(" "),e=0;e<b.length;e++)if(g=b[e],-1!=g.indexOf(q)){f.custom_id=
g.substr(q.length);break}}b=c.match(/<idreference[^>]*>((.|[\n\r])*)<\/idreference>/im);f.id_reference=b&&b[1]?b[1]:"";var v=JSON.parse(JSON.stringify(f));f=new RegExp(/-|_/);for(k in v)v.hasOwnProperty(k)&&f.test(k)&&(v[k.replace(f,"")]=v[k],delete v[k]);com_sas_ci_acs.ob_util.exists(v.control)&&(v.controlgroup=v.control,delete v.control);d&&(v.spotURL=a.responseURL);v.selector=com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].selector;v.spotContent=encodeURIComponent(c);com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].parameters=
v;a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;c=com_sas_ci_acs.ob_util.getElementsBySelector(com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].selector);for(d=0;d<c.length;d++)com_sas_ci_acs.ob_util.exists(a)&&(k=new a(function(){return function(a){com_sas_ci_acs.ob_util.virtualSpotObserver(a,com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].spot_id,com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].selector,com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].parameters)}}()),
com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].observers[d]=k,k.observe(c[d],{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}));com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].callback(v.spotid,v)}else if(u.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION),com_sas_ci_acs.ob_util.spotAttributeSetup(f.spot_id,u),setTimeout(function(){u.send()},0),com_sas_ci_acs.spotClickedHandler=com_sas_ci_acs.spotClicked(h,f),com_sas_ci_acs.ob_configure.w3c?
h.addEventListener("click",com_sas_ci_acs.spotClickedHandler,!1):h.attachEvent("onclick",com_sas_ci_acs.spotClickedHandler),com_sas_ci_acs.ob_util.isElementInViewport(h)){a=JSON.parse(JSON.stringify(f));var y=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE);y.add("eventSource","webmarketing");com_sas_ci_acs.ob_util.exists(b)&&(a.spot_id=b.spotid);a.eventname=com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION_VIEWABLE;c=com_sas_ci_acs.ob_configure.isCollectionEnabled().impression_system_eventid;
com_sas_ci_acs.ob_util.exists(c)&&0<c.length&&(a.event_uid=c[0]);for(q in a)y.add(q,a[q]);com_sas_ci_acs.ob_util.spotAttributeSetup(a.spot_id,y);setTimeout(function(){y.send()},0)}else a=com_sas_ci_acs.fireIfElementVisible(h,f),window.addEventListener&&(addEventListener("DOMContentLoaded",a,!1),addEventListener("load",a,!1),addEventListener("scroll",a,!1),addEventListener("resize",a,!1))}else e||(b.style.visibility="visible")}}com_sas_ci_acs.ob_inject.prototype.handleInjectResponse=handleInjectResponse;
"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var windowFocused=function(){com_sas_ci_acs.ob_util.windowHasFocus=!0;com_sas_ci_acs.ob_event_cache.windowFocused()},windowBlured=function(){com_sas_ci_acs.ob_util.windowHasFocus=!1};window.addEventListener("focus",windowFocused);window.addEventListener("blur",windowBlured);
com_sas_ci_acs.ob_event_cache={localQueue:null,QUEUE_KEY_PREFIX:"_cievq_",LOADID_KEY_PREFIX:"_ciawlid_",LOCAL_STORAGE:"localStorage",SESSION_STORAGE:"sessionStorage",maxTimeoutResendCount:4,timeoutResendCount:0,queueProcessingInitiated:!1,eventInProcess:!1,storageType:function(){return this.SESSION_STORAGE},getBrowserStorage:function(){return com_sas_ci_acs[this.storageType()]},getLocalEventQueue:function(){null==this.localQueue&&(this.localQueue=new LocalQueue(this.QUEUE_KEY_PREFIX+com_sas_ci_acs.ob_util.account));
return this.localQueue},windowFocused:function(){this.isWindowActive()||(this.setCurrentWindowActive(),this.processQueuedEvents())},isWindowActive:function(){if(this.storageType()==this.SESSION_STORAGE)return!0;var a=this.LOADID_KEY_PREFIX+com_sas_ci_acs.ob_util.account;a=this.getBrowserStorage().getItem(a);return com_sas_ci_acs.ob_util.notBlank(a)?a==com_sas_ci_acs.ob_configure.getLoadId():!1},setCurrentWindowActive:function(){if(this.storageType()!=this.SESSION_STORAGE){var a=this.LOADID_KEY_PREFIX+
com_sas_ci_acs.ob_util.account;this.getBrowserStorage().setItem(a,com_sas_ci_acs.ob_configure.getLoadId())}},stringifyEvent:function(a){var b={dataElements:{},event:"",data:"",url:""},c={},d;for(d in a.dataElements)c[d]=a.dataElements[d];b.dataElements=c;b.event=a.event;b.data=a.data;b.url=a.url;return JSON.stringify(b)},parseEvent:function(a){a=JSON.parse(a);var b=new com_sas_ci_acs.ob_event,c;for(c in a)b[c]=a[c];return b},handleCanceledEventImediate:function(){this.timeoutResendCount<this.maxTimeoutResendCount?
this.timeoutResendCount++:(this.getLocalEventQueue().pop(!1),this.timeoutResendCount=0);this.processQueuedEvents(!1)},handleCanceledEvent:function(){setTimeout(function(){com_sas_ci_acs.ob_event_cache.handleCanceledEventImediate()},1E3*(this.timeoutResendCount+1))},handleDatahubIdResponse:function(a){1==a.aborted?com_sas_ci_acs._o_ajax.cancelTimer(a):4==a.readyState&&200==a.status&&!com_sas_ci_acs.ob_util.isUndefined(a.response)&&a.response&&(a=a.response)&&/^([0-9]|[a-z]|-){32,64}$/.test(a)&&com_sas_ci_acs.ob_boot&&
"function"===typeof com_sas_ci_acs.ob_boot.setDatahubId&&com_sas_ci_acs.ob_boot.setDatahubId(a)},updateDatahubId:function(){try{com_sas_ci_acs._o_ajax.fetchContent(com_sas_ci_acs.ob_util.getDataHubCallUrl(),null,!0,this.handleDatahubIdResponse,null)}catch(a){com_sas_ci_acs.ob_util.log("Error while updating DatahubId. "+a)}},processQueuedEvents:function(a){com_sas_ci_acs.ob_util.exists(a)&&(this.eventInProcess=a);var b=null;this.queueProcessingInitiated||(this.queueProcessingInitiated=!0,this.setCurrentWindowActive());
this.isWindowActive()&&(b=this.getLocalEventQueue().getFront())&&!this.eventInProcess&&(this.eventInProcess=!0,setTimeout(function(){b.dispatch()},0),com_sas_ci_acs.ob_util.isIdEvent(b)&&setTimeout(function(){com_sas_ci_acs.ob_event_cache.updateDatahubId()},com_sas_ci_acs.ob_util.datahubIdUpdateDelay))}};
var LocalQueue=function(a){function b(a){var b=com_sas_ci_acs.ob_event_cache.getBrowserStorage().getItem(a);return b&&null!=b?b:(com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,""),"")}if(!a)return null;var c={},d=com_sas_ci_acs.ob_util.isIEBrowser()?String.fromCharCode(127):String.fromCharCode(31),e=b(a)?b(a).split(d).length:0;c.size=function(){return e};c.push=function(c){try{var f=com_sas_ci_acs.ob_event_cache.stringifyEvent(c),h=b(a);h=""==h?h+f:h+(d+f);com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,
h);e++}catch(m){return!1}return!0};c.pop=function(c){try{var f=b(a),h=f.indexOf(d);if(-1<h){var m=f.substr(0,h);f=f.substr(h+1);com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,f);e--;return c?com_sas_ci_acs.ob_event_cache.parseEvent(m):null}return 0<f.length?(com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,""),e=0,c?com_sas_ci_acs.ob_event_cache.parseEvent(f):null):null}catch(r){return null}};c.getFront=function(){try{var c=b(a),e=c.indexOf(d);if(-1<e){var h=c.substr(0,e);
return com_sas_ci_acs.ob_event_cache.parseEvent(h)}return 0<c.length?com_sas_ci_acs.ob_event_cache.parseEvent(c):null}catch(m){return null}};return c};
com_sas_ci_acs.api_engine=function(){function a(a,b){var c={reject_undefined:!1,allow_override:!1,max_event_per_interval:100,types:["string"],regex:".*",required:!1};return com_sas_ci_acs.ob_util.exists(a)?a:c[b]}function b(a){return"undefined"!=typeof a&&null!=a}function c(c){if(b(c.event)&&b(t[c.event])){var d=[];for(m in t[c.event]){var e=t[c.event][m];if("object"===typeof e){b(e.group)&&(d[e.group]?e.group_min&&(d[e.group].min=Math.max(d[e.group].min,e.group_min)):(d[e.group]=[],d[e.group].found=
0,d[e.group].min=e.group_min?e.group_min:0));var f=c[m];f=b(f)&&"object"===typeof f?f.value:f;if(b(f)){for(var g=a(e.types,"types"),h=!1,n=0;n<g.length;n++)if(typeof f===g[n]){h=!0;break}if(!h)return"invalid type: "+typeof f;g=new RegExp(a(e.regex,"regex"));if(!g.test(f))return"regex failure, does not match: "+g;b(e.group)&&d[e.group].found++}else if(a(e.required,"required")&&!b(e.default_value))return'value required for property "'+m+'" but not provided'}}if(c.event===com_sas_ci_acs.ob_event.EventNameEnum.CHANGE){var m=
new RegExp(com_sas_ci_acs.ob_util.regularExpressions.formFieldChanges);for(var r in c)if(m.test(r)&&(f=c[r],e=b(f)&&"object"===typeof f?f.value:f,!(new RegExp(com_sas_ci_acs.ob_util.regularExpressions.integer)).test(e)))return"value must be an integer: "+e}if(c.event===com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION&&"remove"===c.action&&"cartview"!==c.cart_type&&"checkout"!==c.cart_type)return'cart_type required to be "cartview" or "checkout"';for(var D in d)if(d[D].min>d[D].found)return"group minimum not satisfied for group: "+
D}return com_sas_ci_acs.ob_util.SUCCESS}function d(a){try{var b=f(a);b.event&&null!=b.event&&setTimeout(function(){b.event.send()},0);return b.message}catch(k){return"Error while sending event. "+k}}function e(a,b){try{var c=f(a);if(c.event&&null!=c.event){if("spot-click"===b){var d=c3.ob_configure.isCollectionEnabled().clickThrough_system_eventid;!c3.ob_util.isUndefined(d)&&0<d.length&&c.event.add("event_uid",d[0])}else"spot-view"===b&&(d=c3.ob_configure.isCollectionEnabled().impression_system_eventid,
!c3.ob_util.isUndefined(d)&&0<d.length&&c.event.add("event_uid",d[0]));setTimeout(function(){c.event.send()},0)}return c.message}catch(v){return"Error while sending spot event. "+v}}function f(c){var d={};try{var e=c.event,f=t[e],g=new com_sas_ci_acs.ob_event(e,null);g.add("initiator","api");e=null;var h=1,m=!1,n;for(n in c)if(m=!1,c.hasOwnProperty(n)){if("object"===typeof c[n]){var r=c[n].value;b(r)&&c[n].obscured&&(r=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(r)+com_sas_ci_acs.ob_util.account).toString(),
m=!0)}else r=c[n];e=f.hasOwnProperty(n)&&b(f[n].internal_name)?f[n].internal_name:n;!f.hasOwnProperty(n)&&a(f.reject_undefined,"reject_undefined")||!a(f.allow_override,"allow_override")&&null!=g.get(e)||!b(r)||(g.add(e,r),m&&g.add("ffobscure."+h++,e))}for(var D in f){var E=f[D].default_value;e=b(f[D].internal_name)?f[D].internal_name:D;b(E)&&null==g.get(e)&&g.add(e,E)}d.event=g;d.message=com_sas_ci_acs.ob_util.SUCCESS;return d}catch(A){return d.message="Error while poulating event. "+A,d}}function g(a){if(a.event===
com_sas_ci_acs.ob_event.EventNameEnum.CART){var b=a.items;for(var d=new com_sas_ci_acs.ob_cart.contents,e=0;e<b.length;e++)d.addContent(b[e]);if("undefined"!==typeof d&&null!==d){b=d.getItems();for(e=0;e<b.length;e++){var f=JSON.parse(JSON.stringify(b[e]));f.event=com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM;f=c(f);if(f!==com_sas_ci_acs.ob_util.SUCCESS)return a="cartItem invalid: "+f,com_sas_ci_acs.ob_util.log(a),a}b=com_sas_ci_acs.ob_cart.cartDetailsGeneric(a);e=new com_sas_ci_acs.ob_cart.details;
e.addDetails(b);com_sas_ci_acs.ob_cart.sendCartEvent(a.cart_id,a.cart_name,a.cart_type,e,d,"generic_api");return com_sas_ci_acs.ob_util.SUCCESS}}else{if(a.event===com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM)return com_sas_ci_acs.ob_util.SUCCESS;a="invalid event";com_sas_ci_acs.ob_util.log(a);return a}}var h=0,m=0,r={custom:{epoch:0,count:0},spot_change:{epoch:0,count:0},spot_viewable:{epoch:0,count:0},spot_clicked:{epoch:0,count:0},click:{epoch:0,count:0},jsvarchange:{epoch:0,count:0},contentchange:{epoch:0,
count:0},submit:{epoch:0,count:0},change:{epoch:0,count:0},IdentityEvent:{epoch:0,count:0},media:{epoch:0,count:0},cart:{epoch:0,count:0},cartaction:{epoch:0,count:0},logout:{epoch:0,count:0}},t={spot_change:{max_event_per_interval:200,eventname:{required:!0,default_value:"impression"},spot_id:{required:!0},variant_id:{},creative_id:{required:!0},task_id:{required:!0},eventSource:{default_value:"webmarketing"}},spot_viewable:{max_event_per_interval:200,eventname:{required:!0,default_value:"impression_viewable"},
spot_id:{required:!0},variant_id:{},creative_id:{required:!0},task_id:{required:!0},eventSource:{default_value:"webmarketing"}},spot_clicked:{max_event_per_interval:50,spot_id:{required:!0},variant_id:{},creative_id:{required:!0},task_id:{required:!0},eventSource:{default_value:"webmarketing"}},click:{max_event_per_interval:50,referrer:{},element_tag_name:{internal_name:"elementTagName"},elementTagName:{},anchor_id:{types:["string","number"]},anchor_name:{},anchor_href:{},location:{},target_selector_path:{internal_name:"targetSelectorPath"},
targetSelectorPath:{},target_inner_text:{internal_name:"targetInnerText"},targetInnerText:{},on_click:{internal_name:"onclick"},onclick:{},title:{},port:{types:["number","string"]},protocol:{required:!0,default_value:"http"}},submit:{max_event_per_interval:4,location:{},referrer:{},uri:{},form_o_id:{internal_name:"form._o.id"},"form._o.id":{},form_h_id:{internal_name:"form._h.id"},"form._h.id":{},form_h_name:{types:["number","string"],internal_name:"form._h.name"},"form._h.name":{types:["number",
"string"]},ff_obscure_1:{internal_name:"ffobscure.1"},"ffobscure.1":{}},change:{form_o_id:{required:!0,internal_name:"form._o.id"},form_o_attempts:{types:["number","string"],required:!0,regex:com_sas_ci_acs.ob_util.regularExpressions.integer,internal_name:"form._o.attempts"}},jsvarchange:{max_event_per_interval:50,name:{required:!0},action:{required:!0,default_value:"update",regex:"^add$|^update$"},old_value:{types:["string","number"],internal_name:"oldvalue"},oldvalue:{types:["string","number"]},
new_value:{types:["string","number"],internal_name:"newvalue",group:"newValueGroup",group_min:1},newvalue:{types:["string","number"],group:"newValueGroup",group_min:1}},IdentityEvent:{max_event_per_interval:50,eventname:{default_value:"IdentityEvent",regex:"^IdentityEvent$"},login_event:{required:!0},login_event_type:{required:!0,regex:"^email_id$|^login_id$|^customer_id$"},eventSource:{default_value:"webmarketing",regex:"^webmarketing$"},protocol:{},port:{types:["string","number"]}},custom:{max_event_per_interval:50},
media:{max_event_per_interval:50,player_id:{required:!0},media:{required:!0,regex:"^.{0,260}$"},media_player:{types:["string","number"],regex:"^.{0,30}$"},media_position:{types:["string","number"],required:!0,regex:com_sas_ci_acs.ob_util.regularExpressions.integer},media_duration:{types:["string","number"],required:!0,regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},media_action:{types:["string"],required:!0,regex:"^start$|^stop$|^end$|^playing$"}},contentchange:{max_event_per_interval:50,
target_selector:{internal_name:"targetselector",group:"targetSelectorGroup",group_min:1},targetselector:{group:"targetSelectorGroup",group_min:1},target_name:{internal_name:"targetname",group:"targetNameGroup",group_min:1},targetname:{group:"targetNameGroup",group_min:1},target_id:{types:["string","number"],internal_name:"targetid"},targetid:{types:["string","number"]},target_type:{regex:"^attribute$|^childremove$|^childadd$",internal_name:"targettype"},targettype:{regex:"^attribute$|^childremove$|^childadd$"},
attribute_name:{internal_name:"attributename"},attributename:{},old_value:{internal_name:"oldvalue"},oldvalue:{},new_value:{internal_name:"newvalue"},newvalue:{},event_id:{},event_uid:{internal_name:"eventuid"},eventuid:{},event_source:{internal_name:"eventSource"},eventSource:{}},cart:{max_event_per_interval:50,cart_type:{required:!0,regex:"^cartview$|^checkout$|^purchase$"},cart_id:{types:["string","number"],required:!0,regex:"^.{0,42}$"},order_id:{types:["string","number"]},cart_name:{required:!0},
billing_city:{regex:"^.{0,390}$"},billing_country:{regex:"^.{0,85}$"},billing_postcode:{regex:"^.{0,10}$"},billing_region:{regex:"^.{0,256}$"},delivery_type:{regex:"^.{0,42}$"},payment_type:{regex:"^.{0,42}$"},shipping_city:{regex:"^.{0,390}$"},shipping_cost:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},shipping_country:{regex:"^.{0,85}$"},shipping_postcode:{regex:"^.{0,10}$"},shipping_region:{regex:"^.{0,256}$"},tax:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},
total_cart_value:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},items:{types:["object"]}},cartaction:{max_event_per_interval:50,product_id:{types:["string","number"],group:"productGroup",regex:"^.{0,130}$",group_min:1},product_sku:{types:["string","number"],group:"productGroup",regex:"^.{0,100}$",group_min:1},product_name:{group:"productGroup",regex:"^.{0,130}$",group_min:1},action:{required:!0,regex:"^add$|^addFailed$|^update$|^remove$"},cart_id_internal:{types:["string",
"number"],group:"cartGroup",regex:"^.{0,42}$",group_min:1},cart_id:{types:["string","number"],group:"cartGroup",group_min:1},cart_name:{group:"cartGroup",group_min:1},cart_type:{regex:"^cartview$|^checkout$"}},cartitem:{max_event_per_interval:50,product_id:{types:["string","number"],group:"cartItemGroup",regex:"^.{0,130}$",group_min:1},product_name:{group:"cartItemGroup",regex:"^.{0,130}$",group_min:1},product_sku:{types:["string","number"],group:"cartItemGroup",regex:"^.{0,100}$",group_min:1},product_quantity:{types:["string",
"number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},product_unit_price:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},product_group:{regex:"^.{0,130}$"},availability_message:{regex:"^.{0,650}$"},shipping_message:{regex:"^.{0,650}$"},savings_message:{regex:"^.{0,650}$"}},logout:{}};return{i:function(b,f,k){if("event"===b)if(k&&k.event)if(b=c(k),b===com_sas_ci_acs.ob_util.SUCCESS){a:{b=k.event;if(r[b]&&"undefined"!==typeof r[b].epoch&&"undefined"!==
typeof r[b].count&&(f=(new Date).getTime(),6E4<f-m&&(m=f,h=0),6E4<f-r[b].epoch&&(r[b].epoch=f,r[b].count=0),a(t[b].max_event_per_interval,"max_event_per_interval")>r[b].count&&500>h)){r[b].count++;h++;b=!0;break a}b=!1}if(b)switch(k.event){case com_sas_ci_acs.ob_event.EventNameEnum.JS_VAR_CHANGE:case com_sas_ci_acs.ob_event.EventNameEnum.CLICK:case com_sas_ci_acs.ob_event.EventNameEnum.SUBMIT:case com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE:case com_sas_ci_acs.ob_event.EventNameEnum.MEDIA:case com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT:case com_sas_ci_acs.ob_event.EventNameEnum.CUSTOM:case com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION:case com_sas_ci_acs.ob_event.EventNameEnum.CHANGE:return d(k);
case com_sas_ci_acs.ob_event.EventNameEnum.LOGOUT:try{if(k.event===com_sas_ci_acs.ob_event.EventNameEnum.LOGOUT){com_sas_ci_acs._o_ajax.deleteContent(com_sas_ci_acs.ob_util.getDataHubCallUrl(),null,!0,com_sas_ci_acs.ob_event_cache.handleDatahubIdResponse,null);var q=com_sas_ci_acs.ob_util.SUCCESS}else q="Invalid event."}catch(v){q="Error while sending logout event. "+v}return q;case com_sas_ci_acs.ob_event.EventNameEnum.CART:return g(k);case com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CHANGE:return e(k);
case com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE:return e(k,"spot-view");case com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CLICKED:return e(k,"spot-click");default:return k="Event type not recognized",com_sas_ci_acs.ob_util.log(k),k}else return k="Maximum limit has been reached.",com_sas_ci_acs.ob_util.log(k),k}else return k="Validation failed for event: "+k.event+", "+b,com_sas_ci_acs.ob_util.log(k),k;else return k="Event is not valid",com_sas_ci_acs.ob_util.log(k),k;else return k=b+" is not a valid type.",
com_sas_ci_acs.ob_util.log(k),k}}}();
com_sas_ci_acs.ob_cart_api=function(){return{isReady:function(){return"undefined"!==typeof com_sas_ci_acs.ob_configure.getLoadId()&&0<com_sas_ci_acs.ob_configure.getLoadId().length},sendCart:function(a,b,c,d,e){com_sas_ci_acs.ob_cart.sendCartEvent(a,b,c,d,e,"api")},cartDetails:function(){return new com_sas_ci_acs.ob_cart.details},cartContents:function(){return new com_sas_ci_acs.ob_cart.contents},add:function(a,b,c,d,e,f,g,h,m,r,t){var n=e;if(a||b||c)if(d?"number"!=typeof d&&(d=parseInt(d),isNaN(d)&&
(com_sas_ci_acs.ob_util.log("cart add: qty is not a valid number. defaulting to 1."),d=1)):d=1,e){if("number"!=typeof e&&(n=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator,e=parseFloat(e.replace(new RegExp("\\"+n,"g"),"").replace(/,/,".")),isNaN(e))){com_sas_ci_acs.ob_util.log("cart add: price is not a valid number.");return}com_sas_ci_acs.ob_util.isUndefined(f)||null==f?f=!0:"boolean"!=typeof f&&(com_sas_ci_acs.ob_util.log("cart add: isUnitPrice is not a valid boolean."),
f=!0);n=f?e:e/d;var u=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);u.add("action","add");u.add("initiator","api");a&&u.add("product_id",a);b&&u.add("product_name",b);c&&u.add("product_sku",c);u.add("product_quantity",d);u.add("product_unit_price",n.toFixed(2));g&&u.add("product_group",g);m&&u.add("cart_id_internal",m);r&&u.add("cart_name",r);t&&u.add("cart_type",t);if(void 0!=h&&null!=h)for(var k in h)h.hasOwnProperty(k)&&h[k]&&u.add(k,h[k]);setTimeout(function(){u.send()},
0)}else com_sas_ci_acs.ob_util.log("cart add: price is undefined, but is required.");else com_sas_ci_acs.ob_util.log("cart add: one of id, name, or sku is required.")},addFailed:function(a,b,c,d,e,f){if(a||b||c){var g=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);g.add("action","addFailed");g.add("initiator","api");a&&g.add("product_id",a);b&&g.add("product_name",b);c&&g.add("product_sku",c);d&&g.add("cart_id_internal",d);e&&g.add("cart_name",e);f&&g.add("cart_type",
f);setTimeout(function(){g.send()},0)}else com_sas_ci_acs.ob_util.log("cart addFailed: one of id, name, or sku is required.")},remove:function(a,b,c,d,e,f,g,h,m){if(a||b||c){if(e&&"number"!=typeof e){var r=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator;e=parseFloat(e.replace(new RegExp("\\"+r,"g"),"").replace(/,/,"."));isNaN(e)?(com_sas_ci_acs.ob_util.log("cart remove: unit_price is not a valid number."),e=""):
e=e.toFixed(2)}var t=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);t.add("action","remove");t.add("initiator","api");t.add("product_id",a);t.add("product_name",b);t.add("product_sku",c);t.add("product_quantity",d);t.add("product_unit_price",e);t.add("product_group",f);t.add("cart_id_internal",g);t.add("cart_name",h);t.add("cart_type",m);com_sas_ci_acs.ob_util.isSafariBrowser()?t.send(!1):setTimeout(function(){t.send()},0)}else com_sas_ci_acs.ob_util.log("cart remove: id,name,sku are undefined, but at least one is required.")},
update:function(a,b,c,d,e,f,g){if(a||b||c)if(d){if("number"!=typeof d&&(d=parseInt(d),isNaN(d))){com_sas_ci_acs.ob_util.log("cart update: qty is not a number.");return}var h=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);h.add("action","update");h.add("initiator","api");a&&h.add("product_id",a);b&&h.add("product_name",b);c&&h.add("product_sku",c);h.add("product_quantity",d);h.add("cart_id_internal",e);h.add("cart_name",f);h.add("cart_type",g);setTimeout(function(){h.send()},
0)}else com_sas_ci_acs.ob_util.log("cart update: qty is undefined, but is required.");else com_sas_ci_acs.ob_util.log("cart update: one of id, name, or sku is required.")}}}();
com_sas_ci_acs.ob_cart=function(){function a(a,b,e,f,g){f=f.getItems();for(var c=0;c<f.length;c++){var d=void 0,r=a,t=b,n=e,u=f[c],k=g,q=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM);q.add("cart_id_internal",r);q.add("cart_name",t);q.add("cart_type",n);n=t=r=!1;for(d in u)u.hasOwnProperty(d)&&u[d]&&(q.add(d,u[d]),"product_id"==d&&(r=!0),"product_name"==d&&(t=!0),"product_sku"==d&&(n=!0));if(r||t||n)q.createEventData(),q.data&&0<q.data.length&&(d=k.get("cartitem_count"),
d++,k.add("cartitem."+d,q.data),k.add("cartitem_count",d))}}function b(b,d,e,f,g,h){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART);c.add("cart_id_internal",b);c.add("cart_name",d);c.add("cart_type",e);h&&""!=h&&c.add("initiator",h);f=f.getDetails();for(var r in f)f.hasOwnProperty(r)&&f[r]&&c.add(r,f[r]);c.add("cartitem_count","0");a(b,d,e,g,c);setTimeout(function(){c.send()},0)}return{CartDetails:function(a,b,e,f,g,h,m,r,t,n,u,k,q,v,y){this.cart_id=a;this.order_id=b;
"number"===typeof e&&(e=e.toFixed(2));this.total_cart_value=e;"number"===typeof f&&(f=f.toFixed(2));this.tax=f;"number"===typeof g&&(g=g.toFixed(2));this.shipping_cost=g;this.payment_type=h;this.delivery_type=m;this.shipping_city=r;this.shipping_region=t;this.shipping_postcode=n;this.shipping_country=u;this.billing_city=k;this.billing_region=q;this.billing_postcode=v;this.billing_country=y},cartDetailsGeneric:function(a){var b=new com_sas_ci_acs.ob_cart.CartDetails,c;for(c in b)com_sas_ci_acs.ob_util.exists(a[c])&&
(b[c]=a[c]);return b},CartItem:function(a,b,e,f,g,h,m,r,t){this.product_id=a;this.product_name=b;this.product_sku=e;this.product_quantity=f;"number"===typeof g&&(g=g.toFixed(2));this.product_unit_price=g;this.product_group=h;this.availability_message=m;this.shipping_message=r;this.savings_message=t},contents:function(){var a=[];this.addItem=function(b,c,f,g,h,m,r,t,n){b=new com_sas_ci_acs.ob_cart.CartItem(b,c,f,g,h,m,r,t,n);a.push(b)};this.addContent=function(b){a.push(b)};this.getItems=function(){return a};
this.clearItems=function(){a=[]}},details:function(){var a={};this.setDetails=function(b,c,f,g,h,m,r,t,n,u,k,q,v,y){a=new com_sas_ci_acs.ob_cart.CartDetails(b,c,f,g,h,m,r,t,n,u,k,q,v,y)};this.addDetails=function(b){for(var c in b)b.hasOwnProperty(c)&&b[c]&&(a[c]=b[c])};this.getDetails=function(){return a};this.clearDetails=function(){a={}}},showCartDetails:function(a,d,e,f,g){b(a,d,e,f,g)},sendCartEvent:function(a,d,e,f,g,h){b(a,d,e,f,g,h)}}}();com_sas_ci_acs._ob_cart_configuration=function(){};
com_sas_ci_acs._ob_cart_configuration.prototype.getCartConfig=function(){};com_sas_ci_acs._ob_cart_configuration.prototype.getCheckoutConfig=function(){};com_sas_ci_acs._ob_cart_configuration.prototype.getPurchaseConfig=function(){};
com_sas_ci_acs._ob_cart_handlers=function(){function a(a,b,e,f,g,h,m,r,t){return function(){com_sas_ci_acs.ob_cart_api.remove(a,b,e,f,g,h,m,r,t)}}function b(b,d){if(b)for(var c in b)try{var f=b[c],g=f.name;if(f.selector){var h=com_sas_ci_acs.ob_util.getElementsBySelector(f.selector);if(0!=h.length){for(var m=f.item,r=new com_sas_ci_acs.ob_cart.contents,t=0;t<h.length;t++){var n={},u=!0,k;for(k in m){var q=m[k];if(q){var v,y=void 0,I=q,z=h[t],C=null;I=[].concat(I);for(var D=0;D<I.length;D++){var E=
I[D];if(E&&E.s){var A=z?com_sas_ci_acs.ob_util.getElementsBySelector(E.s,z):com_sas_ci_acs.ob_util.getElementsBySelector(E.s);if(0!=A.length&&(y=com_sas_ci_acs._ob_dom.getContent(A[0],E.a,E.f,E.p))){C=y;break}}}if(v=C)n[k]=v,u=!1}}if(!u){r.addContent(n);var R=f.removetargets;if(R){var p=com_sas_ci_acs._ob_dom.findElementMatch(h[t],R);for(u=0;u<p.length;u++)com_sas_ci_acs.ob_configure.w3c?p[u].addEventListener("click",a(n.product_id,n.product_name,n.product_sku,n.product_quantity||n.product_quantity_num,
n.product_unit_price||n.product_unit_price_num,n.product_group,c,g,d)):p[u].attachEvent("onclick",a(n.product_id,n.product_name,n.product_sku,n.product_quantity||n.product_quantity_num,n.product_unit_price||n.product_unit_price_num,n.product_group,c,g,d))}}}var U=new com_sas_ci_acs.ob_cart.details;com_sas_ci_acs.ob_cart.showCartDetails(c,g,d,U,r)}}}catch(ca){com_sas_ci_acs.ob_util.log("exception occurred during cart scraping: "+ca)}}return{scrapeHandler:function(){b((new com_sas_ci_acs._ob_cart_configuration).getCartConfig(),
"cartview");b((new com_sas_ci_acs._ob_cart_configuration).getCheckoutConfig(),"checkout");b((new com_sas_ci_acs._ob_cart_configuration).getPurchaseConfig(),"purchase")}}}();com_sas_ci_acs._ob_contentvisible_configuration=function(){};com_sas_ci_acs._ob_contentvisible_configuration.prototype.getConfig=function(){return com_sas_ci_acs._ob_contentvisible_configuration()};com_sas_ci_acs._ob_jsvar_configuration=function(){};com_sas_ci_acs._ob_jsvar_configuration.prototype.getConfig=function(){return com_sas_ci_acs._ob_jsvar_configuration()};
com_sas_ci_acs._ob_jsvarchange_configuration=function(){};com_sas_ci_acs._ob_jsvarchange_configuration.prototype.getConfig=function(){return com_sas_ci_acs._ob_jsvarchange_configuration()};
com_sas_ci_acs.SasVideo={_silverlight:{},_brightcove:{},_youtube:{},_osmf:{},_wmp:{},_players:[],expressions:{html5:["video","audio","embed[html5='true']"],wmp:["object[type='application/x-oleobject']"],quicktime:["object[type='video/quicktime']"],osmf:["object[type='application/x-shockwave-flash'][data*='StrobeMediaPlayback.swf']"]},incrementMediaEventCount:function(){com_sas_ci_acs.ob_util.mediaEventsCount++},isBelowMaxMediaEvents:function(){return com_sas_ci_acs.ob_util.mediaEventsCount<com_sas_ci_acs.ob_util.getMaxMediaEvents()},
testYoutube:function(a){var b=[],c=[];"IFRAME"===a.tagName?b.push(a):b=a.getElementsByTagName("iframe");for(a=0;a<b.length;a++)/youtube.com\/embed/.test(b[a].src)&&c.push(b[a]);return c},enableYoutubeApi:function(a){for(var b=0;b<a.length;b++)-1===a[b].src.indexOf("enablejsapi=")&&(a[b].src+=(-1===a[b].src.indexOf("?")?"?":"&")+"enablejsapi=1")},instrumentYouTube:function(a){this.loadYouTubeIframeAPI(a)},filterElemsBySelector:function(a,b){for(var c=[],d=0;d<b.length;d++){com_sas_ci_acs.ob_util.exists(a.matches)&&
a.matches(b[d])&&(c=c.concat(a));var e=a.querySelectorAll(b[d]);if(com_sas_ci_acs.ob_util.exists(e)&&0<e.length)for(var f=0;f<e.length;f++)c=c.concat(e[f])}return c},testHTML5:function(a){return this.filterElemsBySelector(a,this.expressions.html5)},instrumentHTML5:function(a){a=new com_sas_ci_acs.SasVideo.Html5(a);this._players.push(a)},testQuicktime:function(a){return this.filterElemsBySelector(a,this.expressions.quicktime)},instrumentQuicktime:function(a){a=new com_sas_ci_acs.SasVideo.Quicktime(a);
this._players.push(a)},testOpenSourceMediaFramework:function(a){return this.filterElemsBySelector(a,this.expressions.osmf)},instrumentOpenSourceMediaFramework:function(a){a=new com_sas_ci_acs.SasVideo.Osmf(a);this._players.push(a)},loadPlayers:function(a){com_sas_ci_acs.ob_util.exists(a)||(a=document);var b=this.testYoutube(a);0<b.length&&this.instrumentYouTube(b);b=this.testHTML5(a);for(var c=0;c<b.length;c++)this.instrumentHTML5(b[c]);b=this.testQuicktime(a);for(c=0;c<b.length;c++)this.instrumentQuicktime(b[c]);
a=this.testOpenSourceMediaFramework(a);for(b=0;b<a.length;b++)this.instrumentOpenSourceMediaFramework(a[b])},unloadPlayers:function(){for(var a,b=0;b<window._players.length;b++)a=window._players[b],a=a.send("exit"),_send(a)},loadYouTubeIframeAPI:function(a){if("undefined"!==typeof YT)com_sas_ci_acs.SasVideo.handleYoutubeIframe(a);else{a=document.createElement("script");var b=document.getElementsByTagName("script")[0];a.src="//www.youtube.com/iframe_api";b.parentNode.insertBefore(a,b)}},addSilverlight:function(a){var b=
{};com_sas_ci_acs.SasVideo.createSilverlight(a,b);return b},createSilverlight:function(a,b){if("Canvas"==a.toString())for(var c,d=0;d<a.children.count;d++)c=a.children.getItem(d),"MediaElement"==c.toString()?(new com_sas_ci_acs.SasVideo.SilverLight(c),b[c.name]=c):com_sas_ci_acs.SasVideo.createSilverlight(c,b)},getSilverlight:function(a){return com_sas_ci_acs.SasVideo._silverlight.hasOwnProperty(a)?com_sas_ci_acs.SasVideo._silverlight[a]._player:null},handleBrightcove:function(a){var b=com_sas_ci_acs.SasVideo._brightcove[a.target.experience.id];
b.set(a);"mediaPlay"==a.type?(com_sas_ci_acs.ob_util.log("Brightcove media event [mediaPlay]"),b.start()):"mediaStop"==a.type&&(com_sas_ci_acs.ob_util.log("Brightcove media event [mediaStop]"),b.stop())},osmfRegister:function(a){null==a.getState?setTimeout(function(){com_sas_ci_acs.SasVideo.osmfRegister(a)},1E3):(a.addEventListener("mediaPlayerStateChange","com_sas_ci_acs.SasVideo.osmfStateChange"),a.addEventListener("currentTimeChange","com_sas_ci_acs.SasVideo.osmfTimeChange"),a.addEventListener("complete",
"com_sas_ci_acs.SasVideo.osmfComplete"),a.addEventListener("durationChange","com_sas_ci_acs.SasVideo.osmfDurationChange"),"playing"==a.getState()&&this.play())},osmfStateChange:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&(b=com_sas_ci_acs.SasVideo._osmf[b],"playing"==a?(com_sas_ci_acs.ob_util.log("OSMF media event [playing]"),b.play()):"paused"==a&&(com_sas_ci_acs.ob_util.log("OSMF media event [paused]"),b.pause()))},osmfTimeChange:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&
com_sas_ci_acs.ob_util.log("OSMF media event [timechange]")},osmfDurationChange:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&(com_sas_ci_acs.ob_util.log("OSMF media event [durationchange]"),com_sas_ci_acs.SasVideo._osmf[b]._duration=parseInt(a))},osmfComplete:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&(com_sas_ci_acs.ob_util.log("OSMF media event [complete]"),_osmf[b].end())},handleQuicktime:function(a){var b=a.target.__player;"qt_play"==a.type?(com_sas_ci_acs.ob_util.log("Quicktime media event [play]"),
b.play()):"qt_pause"==a.type?(com_sas_ci_acs.ob_util.log("Quicktime media event [pause]"),b.pause()):"qt_ended"==a.type&&(com_sas_ci_acs.ob_util.log("Quicktime media event [ended]"),b.end())},handleYoutubeIframe:function(a){com_sas_ci_acs.ob_util.exists(a)||(a=com_sas_ci_acs.SasVideo.testYoutube(document));if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure)||"function"!=typeof com_sas_ci_acs.ob_configure.isCollectionEnabled||com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().media)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().media){com_sas_ci_acs.SasVideo.enableYoutubeApi(a);for(var b=0;b<a.length;b++){var c="";com_sas_ci_acs.ob_util.exists(a[b].id)&&""!==a[b].id&&(c=a[b].id);""===c?com_sas_ci_acs.SasVideo.handleExistingYoutubePlayer(c,a[b]):com_sas_ci_acs.SasVideo.handleExistingYoutubePlayer(c)}}},handleExistingYoutubePlayer:function(a,b){var c=YT.get(a);com_sas_ci_acs.ob_util.exists(c)||(null!=b?(c=new YT.Player(b),a=b.id):c=new YT.Player(a));b="";com_sas_ci_acs.ob_util.exists(c.getIframe())&&
(b=c.getIframe().src);var d=new com_sas_ci_acs.SasVideo.YouTube(c,0,a,b);c.addEventListener("onStateChange",function(a){d.state(a)})}};
com_sas_ci_acs.SasVideo.Html5=function(a){this._player=a;this._player.__player=this;this._type="Html5";this._source=null;this._duration=0;this._seeking=!1;com_sas_ci_acs.ob_util.isIE8Browser()?(this._player.attachEvent("play",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("pause",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("ended",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("seeking",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("seeked",
com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("durationchange",com_sas_ci_acs.SasVideo.Html5_handle)):(this._player.addEventListener("play",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("pause",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("ended",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("seeking",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("seeked",com_sas_ci_acs.SasVideo.Html5_handle),
this._player.addEventListener("durationchange",com_sas_ci_acs.SasVideo.Html5_handle))};com_sas_ci_acs.SasVideo.Html5.prototype.start=function(){this._position=0;this.send("start")};com_sas_ci_acs.SasVideo.Html5.prototype.playing=function(){var a=parseInt(this._player.currentTime);this._position!=a&&(this._position=a,this.send("playing"))};com_sas_ci_acs.SasVideo.Html5.prototype.stop=function(){this._position=0;this.send("stop")};com_sas_ci_acs.SasVideo.Html5.prototype.end=function(){this.send("end")};
com_sas_ci_acs.SasVideo.Html5.prototype.setDuration=function(a){this._duration=a};com_sas_ci_acs.SasVideo.Html5.prototype.seeking=function(){0==this._player.paused&&0==this._seeking&&(this._seeking=!0,this.send("stop"))};com_sas_ci_acs.SasVideo.Html5.prototype.seeked=function(){0==this._player.paused&&(this.send("start"),this._seeking=!1)};
com_sas_ci_acs.SasVideo.Html5.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.currentTime),c=this._duration;0==c&&0==isNaN(this._player.duration)&&(c=parseInt(this._player.duration));com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.id);d.add("media",
this._source);d.add("media_player",this._type);d.add("media_position",b);d.add("media_duration",c);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
com_sas_ci_acs.SasVideo.Html5_handle=function(a){var b=a.target.__player;b._source=a.target.currentSrc;"play"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [play]"),b.start()):"pause"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [pause]"),b.stop()):"ended"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [ended]"),b.end()):"timeupdate"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [timeupdate]"),0==b._player.paused&&b.playing()):"durationchange"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [durationchange]"),
a.target.hasOwnProperty("duration")&&b.setDuration(parseInt(a.target.duration))):"seeking"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [seeking]"),b.seeking(a)):"seeked"==a.type&&(com_sas_ci_acs.ob_util.log("Html5 media event [seeked]"),b.seeked(a))};
com_sas_ci_acs.SasVideo.SilverLight=function(a){this._playing=!1;this._player=a;this._type="Silverlight";com_sas_ci_acs.SasVideo._silverlight[a.name]=this;this._player.addEventListener("CurrentStateChanged",com_sas_ci_acs.SasVideo.SilverLight_state);this._player.addEventListener("MediaEnded",com_sas_ci_acs.SasVideo.SilverLight_end)};
com_sas_ci_acs.SasVideo.SilverLight.prototype.state=function(){"Playing"==this._player.currentState?(com_sas_ci_acs.ob_util.log("SilverLight media event [playing]"),0==this._playing&&(this._playing=!0,this.play())):"Paused"==this._player.currentState&&(com_sas_ci_acs.ob_util.log("SilverLight media event [paused]"),this._playing&&(this._playing=!1,this.pause()))};com_sas_ci_acs.SasVideo.SilverLight.prototype.play=function(){this.send("start")};com_sas_ci_acs.SasVideo.SilverLight.prototype.pause=function(){this.send("stop")};
com_sas_ci_acs.SasVideo.SilverLight.prototype.end=function(){com_sas_ci_acs.ob_util.log("SilverLight media event [end]");this.send("end")};
com_sas_ci_acs.SasVideo.SilverLight.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.position.seconds),c=parseInt(this._player.naturalDuration.seconds);com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.name);d.add("media",this._player.Source);d.add("media_player",
this._type);d.add("media_duration",c);d.add("media_position",b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};com_sas_ci_acs.SasVideo.SilverLight_state=function(a){com_sas_ci_acs.SasVideo._silverlight[a.name].state()};com_sas_ci_acs.SasVideo.SilverLight_end=function(a){com_sas_ci_acs.SasVideo._silverlight[a.name].end()};
com_sas_ci_acs.SasVideo.Brightcove=function(a){null!=(this._player=a)&&(this._type="Brightcove",this._id=a.id,this._position=this._duration=0,com_sas_ci_acs.SasVideo._brightcove[this._id]=this,a.addEventListener(brightcove.api.events.MediaEvent.PLAY,com_sas_ci_acs.SasVideo.handleBrightcove),a.addEventListener(brightcove.api.events.MediaEvent.STOP,com_sas_ci_acs.SasVideo.handleBrightcove))};com_sas_ci_acs.SasVideo.Brightcove.prototype.start=function(){this.send("start")};
com_sas_ci_acs.SasVideo.Brightcove.prototype.playing=function(){};com_sas_ci_acs.SasVideo.Brightcove.prototype.stop=function(){this.send("stop")};com_sas_ci_acs.SasVideo.Brightcove.prototype.end=function(){this.send("end")};com_sas_ci_acs.SasVideo.Brightcove.prototype.set=function(a){this._duration=parseInt(a.duration);this._position=parseInt(a.position);this._source=a.media.FLVFullLengthURL};
com_sas_ci_acs.SasVideo.Brightcove.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=this._position,c=this._duration;com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._id);d.add("media",this._source);d.add("media_player",this._type);d.add("media_position",b);d.add("media_duration",
c);d.add("media_action",a);setTimeout(function(){d.send()},0)}};com_sas_ci_acs.SasVideo.YouTube=function(a,b,c,d){this._player=a;!c&&a.id&&(c=a.id);!d&&a.src&&(d=a.src);!d&&a.data&&(d=a.data);this._id=c;this._src=d;this._type="YouTube";com_sas_ci_acs.SasVideo._youtube[c]=this};
com_sas_ci_acs.SasVideo.YouTube.prototype.state=function(a){1==a.data?(com_sas_ci_acs.ob_util.log("YouTube media event [play]"),this.play()):2==a.data?(com_sas_ci_acs.ob_util.log("YouTube media event [pause]"),this.pause()):0==a.data&&(com_sas_ci_acs.ob_util.log("YouTube media event [end]"),this.end())};com_sas_ci_acs.SasVideo.YouTube.prototype.play=function(){this.send("start")};com_sas_ci_acs.SasVideo.YouTube.prototype.pause=function(){this.send("stop")};
com_sas_ci_acs.SasVideo.YouTube.prototype.end=function(){this.send("end")};
com_sas_ci_acs.SasVideo.YouTube.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()&&(com_sas_ci_acs.SasVideo.incrementMediaEventCount(),"function"===typeof this._player.getCurrentTime&&"function"===typeof this._player.getDuration)){var b=parseInt(this._player.getCurrentTime()),c=parseInt(this._player.getDuration());com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);
d.add("player_id",this._id);d.add("media",this._src);d.add("media_player",this._type);d.add("media_duration",c);d.add("media_position",b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};null!=window.onYouTubeIframeAPIReady&&(com_sas_ci_acs.SasVideo.otherYTApiReadyFn=window.onYouTubeIframeAPIReady);window.onYouTubeIframeAPIReady=function(){null!=com_sas_ci_acs.SasVideo.otherYTApiReadyFn&&(com_sas_ci_acs.SasVideo.otherYTApiReadyFn(),com_sas_ci_acs.SasVideo.otherYTApiReadyFn=null);com_sas_ci_acs.SasVideo.handleYoutubeIframe()};
null!=window.onYouTubePlayerReady&&(com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn=window.onYouTubePlayerReady);
window.onYouTubePlayerReady=function(a){null!=com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn&&(com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn(),com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn=null);(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().media)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().media)&&new com_sas_ci_acs.SasVideo.YouTube(document.getElementById(a),1)};
com_sas_ci_acs.SasVideo.Osmf=function(a){this._type="OSMF";this._player=a;com_sas_ci_acs.SasVideo._osmf[this._player.getAttribute("name")]=this;this._duration=0;com_sas_ci_acs.SasVideo.osmfRegister(a)};com_sas_ci_acs.SasVideo.Osmf.prototype.play=function(){this.send("start")};com_sas_ci_acs.SasVideo.Osmf.prototype.pause=function(){this.send("stop")};com_sas_ci_acs.SasVideo.Osmf.prototype.end=function(){this.send("end")};com_sas_ci_acs.SasVideo.Osmf.prototype.seek=function(){this.send("seek")};
com_sas_ci_acs.SasVideo.Osmf.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.getCurrentTime()),c=this._duration;0==c&&0==isNaN(this._player.getDuration())&&(c=parseInt(this._player.getDuration()));com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.getAttribute("id"));
d.add("media",this._player.getSrc());d.add("media_player",this._type);d.add("media_duration",c);d.add("media_position",b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
com_sas_ci_acs.SasVideo.Quicktime=function(a){this._player=a;this._player.__player=this;this._type="Quicktime";com_sas_ci_acs.ob_util.isIE8Browser()?(this._player.attachEvent("qt_play",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.attachEvent("qt_pause",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.attachEvent("qt_ended",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.attachEvent("qt_timechanged",com_sas_ci_acs.SasVideo.handleQuicktime)):(this._player.addEventListener("qt_play",
com_sas_ci_acs.SasVideo.handleQuicktime),this._player.addEventListener("qt_pause",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.addEventListener("qt_ended",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.addEventListener("qt_timechanged",com_sas_ci_acs.SasVideo.handleQuicktime))};com_sas_ci_acs.SasVideo.Quicktime.prototype.play=function(){this._position=0;this.send("start")};com_sas_ci_acs.SasVideo.Quicktime.prototype.pause=function(){this.send("stop")};
com_sas_ci_acs.SasVideo.Quicktime.prototype.end=function(){this.send("end")};com_sas_ci_acs.SasVideo.Quicktime.prototype.playing=function(){var a=parseInt(this._player.GetTime()/1E3);this._position!=a&&(this._position=a,this.send("playing"))};com_sas_ci_acs.SasVideo.Quicktime.prototype.seek=function(){this.send("seek")};
com_sas_ci_acs.SasVideo.Quicktime.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.GetTime()/1E3),c=parseInt(this._player.GetDuration()/1E3),d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("",this._player.id);d.add("player_id",this._player.GetMovieName());d.add("media",this._player.GetURL());d.add("media_player",this._type);d.add("media_duration",c);d.add("media_position",
b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||m).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-e%4*8&255)<<24-(d+e)%4*8;else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-
c%4*8;b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},m=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-d%4*8&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<
24-d%8*4;return new g.init(c,b/2)}},r=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-d%4*8&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-d%4*8;return new g.init(c,b)}},t=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(r.stringify(a)))}catch(q){throw Error("Malformed UTF-8 data");}},parse:function(a){return r.parse(unescape(encodeURIComponent(a)))}},
n=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=t.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f);h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*f;e=a.min(4*b,e);if(b){for(var k=0;k<b;k+=f)this._doProcessBlock(d,k);k=d.splice(0,b);c.sigBytes-=e}return new g.init(k,e)},clone:function(){var a=f.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=n.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){n.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new u.HMAC.init(a,
c)).finalize(b)}}});var u=c.algo={};return c}(Math);
(function(a){var b=CryptoJS,c=b.lib,d=c.Base,e=c.WordArray;b=b.x64={};b.Word=d.extend({init:function(a,b){this.high=a;this.low=b}});b.WordArray=d.extend({init:function(b,c){b=this.words=b||[];this.sigBytes=c!=a?c:8*b.length},toX32:function(){for(var a=this.words,b=a.length,c=[],d=0;d<b;d++){var r=a[d];c.push(r.high);c.push(r.low)}return e.create(c,this.sigBytes)},clone:function(){for(var a=d.clone.call(this),b=a.words=this.words.slice(0),c=b.length,e=0;e<c;e++)b[e]=b[e].clone();return a}})})();
(function(){function a(){return e.create.apply(e,arguments)}var b=CryptoJS,c=b.lib.Hasher,d=b.x64,e=d.Word,f=d.WordArray;d=b.algo;for(var g=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),
a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,
2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),
a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,
3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],h=[],m=0;80>m;m++)h[m]=a();d=d.SHA512=c.extend({_doReset:function(){this._hash=new f.init([new e.init(1779033703,4089235720),new e.init(3144134277,2227873595),new e.init(1013904242,4271175723),new e.init(2773480762,1595750129),new e.init(1359893119,2917565137),new e.init(2600822924,725511199),new e.init(528734635,4215389547),new e.init(1541459225,327033209)])},_doProcessBlock:function(a,b){var c=this._hash.words,
d=c[0],e=c[1],f=c[2],m=c[3],r=c[4],t=c[5],z=c[6];c=c[7];for(var C=d.high,D=d.low,E=e.high,A=e.low,R=f.high,p=f.low,U=m.high,ca=m.low,qa=r.high,ma=r.low,sa=t.high,ka=t.low,ta=z.high,la=z.low,pa=c.high,da=c.low,P=C,O=D,F=E,Y=A,Z=R,ea=p,W=U,ja=ca,T=qa,N=ma,na=sa,ha=ka,oa=ta,ia=la,ra=pa,ba=da,l=0;80>l;l++){var w=h[l];if(16>l)var x=w.high=a[b+2*l]|0,H=w.low=a[b+2*l+1]|0;else{x=h[l-15];H=x.high;var S=x.low;x=(H>>>1|S<<31)^(H>>>8|S<<24)^H>>>7;S=(S>>>1|H<<31)^(S>>>8|H<<24)^(S>>>7|H<<25);var fa=h[l-2];H=fa.high;
var M=fa.low;fa=(H>>>19|M<<13)^(H<<3|M>>>29)^H>>>6;M=(M>>>19|H<<13)^(M<<3|H>>>29)^(M>>>6|H<<26);H=h[l-7];var aa=H.high,X=h[l-16],V=X.high;X=X.low;H=S+H.low;x=x+aa+(H>>>0<S>>>0?1:0);H+=M;x=x+fa+(H>>>0<M>>>0?1:0);H+=X;x=x+V+(H>>>0<X>>>0?1:0);w.high=x;w.low=H}aa=T&na^~T&oa;X=N&ha^~N&ia;w=P&F^P&Z^F&Z;var xa=O&Y^O&ea^Y&ea;S=(P>>>28|O<<4)^(P<<30|O>>>2)^(P<<25|O>>>7);fa=(O>>>28|P<<4)^(O<<30|P>>>2)^(O<<25|P>>>7);M=g[l];var ua=M.high,wa=M.low;M=ba+((N>>>14|T<<18)^(N>>>18|T<<14)^(N<<23|T>>>9));V=ra+((T>>>14|
N<<18)^(T>>>18|N<<14)^(T<<23|N>>>9))+(M>>>0<ba>>>0?1:0);M+=X;V=V+aa+(M>>>0<X>>>0?1:0);M+=wa;V=V+ua+(M>>>0<wa>>>0?1:0);M+=H;V=V+x+(M>>>0<H>>>0?1:0);H=fa+xa;w=S+w+(H>>>0<fa>>>0?1:0);ra=oa;ba=ia;oa=na;ia=ha;na=T;ha=N;N=ja+M|0;T=W+V+(N>>>0<ja>>>0?1:0)|0;W=Z;ja=ea;Z=F;ea=Y;F=P;Y=O;O=M+H|0;P=V+w+(O>>>0<M>>>0?1:0)|0}D=d.low=D+O;d.high=C+P+(D>>>0<O>>>0?1:0);A=e.low=A+Y;e.high=E+F+(A>>>0<Y>>>0?1:0);p=f.low=p+ea;f.high=R+Z+(p>>>0<ea>>>0?1:0);ca=m.low=ca+ja;m.high=U+W+(ca>>>0<ja>>>0?1:0);ma=r.low=ma+N;r.high=
qa+T+(ma>>>0<N>>>0?1:0);ka=t.low=ka+ha;t.high=sa+na+(ka>>>0<ha>>>0?1:0);la=z.low=la+ia;z.high=ta+oa+(la>>>0<ia>>>0?1:0);da=c.low=da+ba;c.high=pa+ra+(da>>>0<ba>>>0?1:0)},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32;b[(d+128>>>10<<5)+30]=Math.floor(c/4294967296);b[(d+128>>>10<<5)+31]=c;a.sigBytes=4*b.length;this._process();return this._hash.toX32()},clone:function(){var a=c.clone.call(this);a._hash=this._hash.clone();return a},blockSize:32});
b.SHA512=c._createHelper(d);b.HmacSHA512=c._createHmacHelper(d)})();
(function(){var a=CryptoJS,b=a.x64,c=b.Word,d=b.WordArray;b=a.algo;var e=b.SHA512;b=b.SHA384=e.extend({_doReset:function(){this._hash=new d.init([new c.init(3418070365,3238371032),new c.init(1654270250,914150663),new c.init(2438529370,812702999),new c.init(355462360,4144912697),new c.init(1731405415,4290775857),new c.init(2394180231,1750603025),new c.init(3675008525,1694076839),new c.init(1203062813,3204075428)])},_doFinalize:function(){var a=e._doFinalize.call(this);a.sigBytes-=16;return a}});a.SHA384=
e._createHelper(b);a.HmacSHA384=e._createHmacHelper(b)})();(function(){var a=document.getElementById("ob-script");null!=a&&"object"==typeof a.attributes&&"undefined"!=typeof a.attributes.getNamedItem?(a=a.attributes.getNamedItem("a"),a=null!=a?a.value:null):a=null;com_sas_ci_acs.ob_util.account=a})(document,"script");
