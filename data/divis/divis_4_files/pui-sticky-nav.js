window.PuiTheme=window.PuiTheme||{};(function(a,b){a.StickyNav=function(c){var d=this;d._initStickyNav(c)};b.extend(a.StickyNav,{_instances:{},_defaultInstance:"_default",initWidget:function(f,e,d){var c=a.StickyNav.getInstance(d);if(typeof c==="undefined"){c=new a.StickyNav(f);a.StickyNav._setInstance(c,d)}c.init(e)},getInstance:function(c){if(typeof c==="undefined"){c=a.StickyNav._defaultInstance}return a.StickyNav._instances[c]},_setInstance:function(c,d){if(typeof d==="undefined"){d=a.StickyNav._defaultInstance}a.StickyNav._instances[d]=c}});b.extend(a.StickyNav.prototype,{_defaults:{selectors:{stickyNav:".html-c-sticky-menu",stickyNavHeading:".html-b-heading .html-text",stickyNavButtonContainer:".html-b-control",pageHeadingComponent:".html-c-heading",pageHeading:".html-c-heading h1",pageHeadingButton:".html-c-hyperlink",stickyNavSubNavContainer:".html-b-subnavigation",subNav:".html-c-subnavigation",header:".pui-m-header-main",link:".html-b-subnav-item .html-link",pageHeadingModule:".pui-m-heading"},cssClasses:{isFixed:"pui-is-fixed",isActive:"html-is-active"},dataAttr:{stickyNav:"sticky-nav",stickyNavCaption:"sticky-nav-caption"},activeOffsetTolerance:300},_options:{},_eventNamespace:".PuiEventNamespace",_initComponentsOnPage:function(g){var e=this;var c=e._options;var d=c.selectors;var f=b(d.stickyNav,g);f.each(function(i,j){var h=b(j);e._clonePageHeading(h);e._cloneButtonFromHeading(h);e._cloneAnchor(h);e._showStickyNav(h);e._bindScrollEvents(h);e._fixPageLoadOffset(h)})},_clonePageHeading:function(){var f=this;var d=f._options;var e=d.selectors;var c=b(document).find(e.pageHeading).html();var g=b(e.stickyNav).find(e.stickyNavHeading);if(c){g.html(c)}},_cloneButtonFromHeading:function(){var f=this;var d=f._options;var e=d.selectors;var g=b(e.stickyNav);var i=b(e.pageHeadingComponent);var h=i.find(e.pageHeadingButton);var c=g.find(e.stickyNavButtonContainer);h.clone(true).appendTo(c)},_cloneAnchor:function(){var e=this;var c=e._options;var d=c.selectors;var f=b(d.stickyNav);var g=b(d.subNav);var h=f.find(d.stickyNavSubNavContainer);g.clone(true).appendTo(h)},_bindScrollEvents:function(){var e=this;var c=e._options;var d=c.selectors;var f=b(d.stickyNav);var h=f.find(d.link);var g=null;b(window).off("scroll"+e._eventNamespace).on("scroll"+e._eventNamespace,function(){if(!g){g=setTimeout(function(){e._showStickyNav();e._setActiveItem(h);g=null},200)}})},_showStickyNav:function(){var d=this;var l=d._options;var k=l.selectors;var j=l.cssClasses;var c=b(k.stickyNav);var i=b(k.pageHeadingModule).outerHeight();var h=b(k.subNav).outerHeight();var e=b(k.header).outerHeight();var g=i+h+e;var f=b(window).scrollTop()>g;c.toggleClass(j.isFixed,f)},_setActiveItem:function(j){var f=this;var d=f._options;var e=d.cssClasses;var i=b("html, body").scrollTop();var g=i+d.activeOffsetTolerance;var c=Number.MAX_VALUE;var h=b(null);b.each(j,function(k,l){var m=b(l.hash);var o=m.offset().top;var n=g-o;if(n>0&&n<c){c=n;h=b(l)}});j.removeClass(e.isActive);h.addClass(e.isActive)},_fixPageLoadOffset:function(){b(document).ready(function(){var f=window.location.hash;if(f&&f.length>1){var d=new RegExp(/^[A-Za-z]+[\w\-\:\.]*$/);var c=f.substring(1);if(d.test(c)){var e=b("#"+c);if(e.length>0){a.ScrollHelper.scrollToView(e)}}}})},getStickyMenuHeight:function(){var e=this;var c=e._options;var d=c.selectors;var f=b(d.stickyNav);return f.outerHeight()},_initStickyNav:function(c){var d=this;d._options=b.extend({},d._defaults,c||{});d._initComponentsOnPage()},init:function(c){var d=this;var e=b(c);d._initComponentsOnPage(e)}})})(window.PuiTheme,jQuery);(function(a,b){b(document).ready(function(){if(typeof a.StickyNav!=="undefined"){a.StickyNav.initWidget()}})})(window.PuiTheme,jQuery);