window.PuiTheme=window.PuiTheme||{};(function(a,b){a.NpwScrollIndicator=function(){this._init()};b.extend(a.NpwScrollIndicator.prototype,{_defaults:{selectors:{scrollContainer:".pui-table,.pdp-table-wrapper",puiStart:".pui-bar-start",puiEnd:".pui-bar-end",puiBar:".pui-bar"},cssClasses:{scrollIndicator:"pui-scroll-indicator",positionStart:"pui-is-start",positionProgress:"pui-is-progress",positionEnd:"pui-is-end",stateScrolling:"pui-is-scrolling"},dataAttr:{scrollTimer:"scrollTimer"},markup:{containerWrapper:'<div class="pui-table-wrap"></div>',verticalSlideBars:'<div class="pui-bar pui-bar-start"></div><div class="pui-bar pui-bar-end"></div>'},positionBufferLeft:1,positionBufferRight:1,slideTabSpeed:500,indicator:{},slideTabDistance:"300px",eventNamespace:".scrollIndicator"},_options:{},_init:function(c){var d=this;d._options=b.extend({},d._defaults,c||{});var e=b(d._options.selectors.scrollContainer);e.each(function(){var f=b(this);d._domScrollBarsConstruct(f);d._bindScrollButtonsEvents();d._setCurrentPosition(d._options.indicator,f);d._bindScrollEvents(d._options.indicator,f)});d._bindResizePageEvents()},_setCurrentPosition:function(h,k){var e=this;var m=e._options;var g=m.cssClasses;var d=k.scrollLeft();var i=m.positionBufferLeft;var l=k.prop("scrollWidth")-m.positionBufferRight-k.width();i=Math.min(i,l,1);var c=(d<i);var f=(d>l);var j=!(c||f);h.toggleClass(g.positionStart,c).toggleClass(g.positionProgress,j).toggleClass(g.positionEnd,f)},_bindScrollEvents:function(g,f){var e=this;var c=e._options;var d=c.cssClasses;f.off("scroll"+c.eventNamespace).on("scroll"+c.eventNamespace,function(){g.addClass(d.stateScrolling);clearTimeout(g.data(c.dataAttr.scrollTimer));g.data(c.dataAttr.scrollTimer,setTimeout(function(){g.removeClass(d.stateScrolling);e._setCurrentPosition(g,f)},250))})},_bindScrollButtonsEvents:function(){var e=this;var c=e._options;var d=c.selectors;b(d.puiStart).off("click"+c.eventNamespace).on("click"+c.eventNamespace,function(){b(this).siblings(c.scrollContainer).animate({scrollLeft:"+="+c.slideTabDistance},c.slideTabSpeed,"swing")});b(d.puiEnd).off("click"+c.eventNamespace).on("click"+c.eventNamespace,function(){b(this).siblings(c.scrollContainer).animate({scrollLeft:"-="+c.slideTabDistance},c.slideTabSpeed,"swing")})},_bindResizePageEvents:function(){var e=this;var d=e._options;var c=null;b(window).off("resize"+d.eventNamespace).on("resize"+d.eventNamespace,function(){if(!c){c=setTimeout(function(){e._domScrollBarsDestroy();e._init();c=null},2000)}})},_domScrollBarsConstruct:function(d){var c=this;d.wrap(c._options.markup.containerWrapper);c._options.indicator=d.parent();c._options.indicator.append(c._options.markup.verticalSlideBars);if(Math.round(d.width())<d.prop("scrollWidth")){c._options.indicator.addClass(c._options.cssClasses.scrollIndicator)}},_domScrollBarsDestroy:function(d){var c=this;b(".pui-bar").remove();b(".pui-table-wrap").children(".pui-table").unwrap()}});b(document).ready(function(){var c={selectors:{scrollContainer:".pui-table,.pdp-table-wrapper"},positionBufferLeft:20,positionBufferRight:20};new a.NpwScrollIndicator(c)})})(window.PuiTheme,jQuery);