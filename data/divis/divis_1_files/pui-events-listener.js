window.PuiTheme=window.PuiTheme||{};(function(a,b){a.PuiEventsListener=function(c){var d=this;d._options=b.extend({},d._defaults,c||{})};b.extend(a.PuiEventsListener,{_instances:{},_defaultInstance:"_default",initWidget:function(e,d){var c=a.PuiEventsListener._getInstance(d);if(typeof c==="undefined"){c=new a.PuiEventsListener(e);a.PuiEventsListener._setInstance(c,d)}c.init()},_getInstance:function(c){if(typeof c==="undefined"){c=a.PuiEventsListener._defaultInstance}return a.PuiEventsListener._instances[c]},_setInstance:function(c,d){if(typeof d==="undefined"){d=a.PuiEventsListener._defaultInstance}a.PuiEventsListener._instances[d]=c}});b.extend(a.PuiEventsListener.prototype,{_defaults:{selectors:{html:"html, body",componentCtaBlockCall:".pui-m-cta-block",componentCtaBlockOpen:".html-c-cta-block.pui-js-call-me",calcLoader:".npw-loader-holder"},cssClasses:{isExpanded:"html-is-expanded"}},_attributes:{},_data:{},_options:{},_eventNamespace:".PuiEventsListener",_ctaBlockToViewport:function(){var g=this;var d=g._options;var f=d.selectors;var e=false;var h=false;var c=0;var j=20;var i=setInterval(function(){if(jQuery.isReady){var k=b(f.componentCtaBlockCall);if(k.length){a.ScrollHelper.scrollToView(k);e=true}}if(b(f.calcLoader).length!==0){if(b(f.calcLoader).css("display")==="none"){h=true}}else{h=true}if((e&&h)||(c===j)){clearInterval(i)}c++},200)},_subscribeEvents:function(){var c=this;a.EventsCommon.subscribe("puiCtaToScrollViewport",{},function(d){c._ctaBlockToViewport()})},_ctaBlockOpen:function(){var g=this;var d=g._options;var f=d.selectors;var e=d.cssClasses;var c=b(f.componentCtaBlockOpen);c.addClass(e.isExpanded);a.ScrollHelper.scrollToView(c)},_subscribeEventsOpenCta:function(){var c=this;a.EventsCommon.subscribe("puiCtaToViewport",{},function(d){c._ctaBlockOpen()})},init:function(){var c=this;c._subscribeEvents();c._subscribeEventsOpenCta()}})})(window.PuiTheme,jQuery);