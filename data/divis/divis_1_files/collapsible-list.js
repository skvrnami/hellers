window.PuiTheme=window.PuiTheme||{};(function(a,b){a.HtmlCollapsibleList=function(c){var d=this;d.options=b.extend({},d._defaults,c||{});d._init()};b.extend(a.HtmlCollapsibleList.prototype,{_defaults:{componentSelector:".html-c-collapsible-list",splitSelectorDefault:".html-readmore",toggleButton:".html-readmore-button",notToggleButton:":not(.html-readmore-button)",dataExpanded:"text-expanded",dataCollapsed:"text-collapsed",collapsedClass:"html-is-collapsed",expandedClass:"html-is-expanded"},_eventNamespace:".htmlCollapsibleList",_init:function(){var c=this;this._bindEvents(b(c.options.componentSelector))},_bindEvents:function(c){var d=this;c.append('<li class="'+d.options.toggleButton.replace(".","")+'"><a tabindex="0"></a></li>');b(d.options.toggleButton+" a",c).text(c.data(d.options.dataCollapsed)).off("click"+d._eventNamespace).on("click"+d._eventNamespace,function(f){f.preventDefault();d._toggle(b(this).closest(d.options.componentSelector))});b(d.options.toggleButton+" a",c).off("keypress"+d._eventNamespace).on("keypress"+d._eventNamespace,function(f){if((f.keyCode==0||f.keyCode==32)){d._toggle(b(this).closest(d.options.componentSelector))}});c.addClass(d.options.collapsedClass)},_toggle:function(c){var d=this;if(c.hasClass(d.options.collapsedClass)){b(d.options.toggleButton+" a",c).text(c.data(d.options.dataExpanded));c.removeClass(d.options.collapsedClass).addClass(d.options.expandedClass)}else{b(d.options.toggleButton+" a",c).text(c.data(d.options.dataCollapsed));c.removeClass(d.options.expandedClass).addClass(d.options.collapsedClass)}}});b(function(){a.collapsibleList=new a.HtmlCollapsibleList()})})(window.PuiTheme,jQuery);